/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/vsls/vscode.ts":
/*!*************************************!*\
  !*** ./node_modules/vsls/vscode.ts ***!
  \*************************************/
/***/ (() => {



/***/ }),

/***/ "./src/Config.ts":
/*!***********************!*\
  !*** ./src/Config.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("{\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Config = void 0;\nconst vscode_1 = __webpack_require__(/*! vscode */ \"vscode\");\nclass Config {\n    static get configuration() {\n        return vscode_1.workspace.getConfiguration('liveServer.settings');\n    }\n    static getSettings(val) {\n        return Config.configuration.get(val);\n    }\n    static setSettings(key, val, isGlobal = false) {\n        return Config.configuration.update(key, val, isGlobal);\n    }\n    static get getHost() {\n        return Config.getSettings('host');\n    }\n    static get getLocalIp() {\n        return Config.getSettings('useLocalIp');\n    }\n    static get getPort() {\n        return Config.getSettings('port');\n    }\n    static setPort(port) {\n        return Config.setSettings('port', port);\n    }\n    static get getRoot() {\n        return Config.getSettings('root');\n    }\n    static get getNoBrowser() {\n        return Config.getSettings('NoBrowser');\n    }\n    static get getAdvancedBrowserCmdline() {\n        return Config.getSettings('AdvanceCustomBrowserCmdLine');\n    }\n    static get getChromeDebuggingAttachment() {\n        return Config.getSettings('ChromeDebuggingAttachment');\n    }\n    static get getCustomBrowser() {\n        return Config.getSettings('CustomBrowser');\n    }\n    static get getIgnoreFiles() {\n        return Config.getSettings('ignoreFiles');\n    }\n    static get getDonotShowInfoMsg() {\n        return Config.getSettings('donotShowInfoMsg');\n    }\n    static setDonotShowInfoMsg(val, isGlobal = false) {\n        Config.configuration.update('donotShowInfoMsg', val, isGlobal);\n    }\n    static get getDonotVerifyTags() {\n        return Config.getSettings('donotVerifyTags');\n    }\n    static setDonotVerifyTags(val, isGlobal = false) {\n        Config.configuration.update('donotVerifyTags', val, isGlobal);\n    }\n    static get getUseWebExt() {\n        return Config.getSettings('useWebExt') || false;\n    }\n    static get getProxy() {\n        return Config.getSettings('proxy');\n    }\n    static get getHttps() {\n        return Config.getSettings('https') || {};\n    }\n    static get getWait() {\n        return Config.getSettings('wait');\n    }\n    static get getfullReload() {\n        return Config.getSettings('fullReload');\n    }\n    static get getMount() {\n        return Config.getSettings('mount');\n    }\n    static get getShowOnStatusbar() {\n        return Config.getSettings('showOnStatusbar') || false;\n    }\n    static get getFile() {\n        return Config.getSettings('file');\n    }\n    static get getMultiRootWorkspaceName() {\n        return Config.getSettings('multiRootWorkspaceName');\n    }\n    static setMultiRootWorkspaceName(val) {\n        return Config.configuration.update('multiRootWorkspaceName', val, false);\n    }\n}\nexports.Config = Config;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TSxNQUFNLEtBQUssUUFBUTtRQUN0QixPQUFPLE1BQU0sQ0FBQyxXQUFXLENBQVMsT0FBTyxDQUFDLElBQUksRUFBWSxDQUFDO0lBQy9ELENBQUM7SUFFTSxNQUFNLEtBQUssT0FBTztRQUNyQixPQUFPLE1BQU0sQ0FBQyxXQUFXLENBQVMsTUFBTSxDQUFDLENBQUM7SUFDOUMsQ0FBQztJQUVNLE1BQU0sS0FBSyxhQUFhO1FBQzNCLE9BQU8sTUFBTSxDQUFDLFdBQVcsQ0FBVSxZQUFZLENBQUMsQ0FBQztJQUNyRCxDQUFDO0lBRU0sTUFBTSxLQUFLLFFBQVE7UUFDdEIsT0FBTyxNQUFNLENBQUMsV0FBVyxDQUF1QixPQUFPLENBQUMsQ0FBQztJQUM3RCxDQUFDO0lBRU0sTUFBTSxLQUFLLGtCQUFrQjtRQUNoQyxPQUFPLE1BQU0sQ0FBQyxXQUFXLENBQVUsaUJBQWlCLENBQUMsSUFBSSxLQUFLLENBQUM7SUFDbkUsQ0FBQztJQUVNLE1BQU0sS0FBSyxPQUFPO1FBQ3JCLE9BQU8sTUFBTSxDQUFDLFdBQVcsQ0FBUyxNQUFNLENBQUMsQ0FBQztJQUM5QyxDQUFDO0lBRU0sTUFBTSxLQUFLLHlCQUF5QjtRQUN2QyxPQUFPLE1BQU0sQ0FBQyxXQUFXLENBQVMsd0JBQXdCLENBQUMsQ0FBQztJQUNoRSxDQUFDO0lBRU0sTUFBTSxDQUFDLHlCQUF5QixDQUFDLEdBQVc7UUFDaEQsT0FBTyxNQUFNLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyx3QkFBd0IsRUFBRSxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDNUUsQ0FBQztDQUNKO0FBN0dELHdCQTZHQyIsInNvdXJjZXMiOlsiLi4vLi9zcmMvQ29uZmlnLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgd29ya3NwYWNlIH0gZnJvbSAndnNjb2RlJztcblxuZXhwb3J0IGludGVyZmFjZSBJUHJveHkge1xuICAgIGVuYWJsZTogYm9vbGVhbjtcbiAgICBiYXNlVXJpOiBzdHJpbmc7XG4gICAgcHJveHlVcmk6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJSHR0cHMge1xuICAgIGVuYWJsZTogYm9vbGVhbjtcbiAgICBjZXJ0OiBzdHJpbmc7XG4gICAga2V5OiBzdHJpbmc7XG4gICAgcGFzc3BocmFzZTogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgQ29uZmlnIHtcblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGNvbmZpZ3VyYXRpb24oKSB7XG4gICAgICAgIHJldHVybiB3b3Jrc3BhY2UuZ2V0Q29uZmlndXJhdGlvbignbGl2ZVNlcnZlci5zZXR0aW5ncycpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIGdldFNldHRpbmdzPFQ+KHZhbDogc3RyaW5nKTogVCB7XG4gICAgICAgIHJldHVybiBDb25maWcuY29uZmlndXJhdGlvbi5nZXQodmFsKSBhcyBUO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIHNldFNldHRpbmdzKGtleTogc3RyaW5nLCB2YWw6IG51bWJlciwgaXNHbG9iYWw6IGJvb2xlYW4gPSBmYWxzZSk6IFRoZW5hYmxlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIENvbmZpZy5jb25maWd1cmF0aW9uLnVwZGF0ZShrZXksIHZhbCwgaXNHbG9iYWwpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGdldEhvc3QoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIENvbmZpZy5nZXRTZXR0aW5nczxzdHJpbmc+KCdob3N0Jyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgZ2V0TG9jYWxJcCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIENvbmZpZy5nZXRTZXR0aW5nczxib29sZWFuPigndXNlTG9jYWxJcCcpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGdldFBvcnQoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIENvbmZpZy5nZXRTZXR0aW5nczxudW1iZXI+KCdwb3J0Jyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBzZXRQb3J0KHBvcnQ6IG51bWJlcik6IFRoZW5hYmxlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIENvbmZpZy5zZXRTZXR0aW5ncygncG9ydCcsIHBvcnQpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGdldFJvb3QoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIENvbmZpZy5nZXRTZXR0aW5nczxzdHJpbmc+KCdyb290Jyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgZ2V0Tm9Ccm93c2VyKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gQ29uZmlnLmdldFNldHRpbmdzPGJvb2xlYW4+KCdOb0Jyb3dzZXInKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBnZXRBZHZhbmNlZEJyb3dzZXJDbWRsaW5lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBDb25maWcuZ2V0U2V0dGluZ3M8c3RyaW5nPignQWR2YW5jZUN1c3RvbUJyb3dzZXJDbWRMaW5lJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgZ2V0Q2hyb21lRGVidWdnaW5nQXR0YWNobWVudCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIENvbmZpZy5nZXRTZXR0aW5nczxib29sZWFuPignQ2hyb21lRGVidWdnaW5nQXR0YWNobWVudCcpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGdldEN1c3RvbUJyb3dzZXIoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIENvbmZpZy5nZXRTZXR0aW5nczxzdHJpbmc+KCdDdXN0b21Ccm93c2VyJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgZ2V0SWdub3JlRmlsZXMoKTogc3RyaW5nW10ge1xuICAgICAgICByZXR1cm4gQ29uZmlnLmdldFNldHRpbmdzPHN0cmluZ1tdPignaWdub3JlRmlsZXMnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBnZXREb25vdFNob3dJbmZvTXNnKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gQ29uZmlnLmdldFNldHRpbmdzPGJvb2xlYW4+KCdkb25vdFNob3dJbmZvTXNnJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBzZXREb25vdFNob3dJbmZvTXNnKHZhbDogYm9vbGVhbiwgaXNHbG9iYWw6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICBDb25maWcuY29uZmlndXJhdGlvbi51cGRhdGUoJ2Rvbm90U2hvd0luZm9Nc2cnLCB2YWwsIGlzR2xvYmFsKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBnZXREb25vdFZlcmlmeVRhZ3MoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBDb25maWcuZ2V0U2V0dGluZ3M8Ym9vbGVhbj4oJ2Rvbm90VmVyaWZ5VGFncycpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgc2V0RG9ub3RWZXJpZnlUYWdzKHZhbDogYm9vbGVhbiwgaXNHbG9iYWw6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICBDb25maWcuY29uZmlndXJhdGlvbi51cGRhdGUoJ2Rvbm90VmVyaWZ5VGFncycsIHZhbCwgaXNHbG9iYWwpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGdldFVzZVdlYkV4dCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIENvbmZpZy5nZXRTZXR0aW5nczxib29sZWFuPigndXNlV2ViRXh0JykgfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgZ2V0UHJveHkoKTogSVByb3h5IHtcbiAgICAgICAgcmV0dXJuIENvbmZpZy5nZXRTZXR0aW5nczxJUHJveHk+KCdwcm94eScpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGdldEh0dHBzKCk6IElIdHRwcyB7XG4gICAgICAgIHJldHVybiBDb25maWcuZ2V0U2V0dGluZ3M8SUh0dHBzPignaHR0cHMnKSB8fCB7fSBhcyBJSHR0cHM7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgZ2V0V2FpdCgpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gQ29uZmlnLmdldFNldHRpbmdzPG51bWJlcj4oJ3dhaXQnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBnZXRmdWxsUmVsb2FkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gQ29uZmlnLmdldFNldHRpbmdzPGJvb2xlYW4+KCdmdWxsUmVsb2FkJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgZ2V0TW91bnQoKTogQXJyYXk8QXJyYXk8c3RyaW5nPj4ge1xuICAgICAgICByZXR1cm4gQ29uZmlnLmdldFNldHRpbmdzPEFycmF5PEFycmF5PHN0cmluZz4+PignbW91bnQnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldCBnZXRTaG93T25TdGF0dXNiYXIoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBDb25maWcuZ2V0U2V0dGluZ3M8Ym9vbGVhbj4oJ3Nob3dPblN0YXR1c2JhcicpIHx8IGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IGdldEZpbGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIENvbmZpZy5nZXRTZXR0aW5nczxzdHJpbmc+KCdmaWxlJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXQgZ2V0TXVsdGlSb290V29ya3NwYWNlTmFtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gQ29uZmlnLmdldFNldHRpbmdzPHN0cmluZz4oJ211bHRpUm9vdFdvcmtzcGFjZU5hbWUnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIHNldE11bHRpUm9vdFdvcmtzcGFjZU5hbWUodmFsOiBzdHJpbmcpIHtcbiAgICAgICByZXR1cm4gQ29uZmlnLmNvbmZpZ3VyYXRpb24udXBkYXRlKCdtdWx0aVJvb3RXb3Jrc3BhY2VOYW1lJywgdmFsLCBmYWxzZSk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Config.ts\n\n}");

/***/ }),

/***/ "./src/Helper.ts":
/*!***********************!*\
  !*** ./src/Helper.ts ***!
  \***********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("{\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Helper = exports.isRelativePath = exports.SUPPORTED_EXT = void 0;\nconst fs = __importStar(__webpack_require__(/*! fs */ \"fs\"));\nconst path = __importStar(__webpack_require__(/*! path */ \"path\"));\nconst Config_1 = __webpack_require__(/*! ./Config */ \"./src/Config.ts\");\nexports.SUPPORTED_EXT = [\n    '.html', '.htm', '.svg'\n];\nconst isRelativePath = (pathUrl) => {\n    if (pathUrl.startsWith('*'))\n        return false;\n    return !path.isAbsolute(pathUrl);\n};\nexports.isRelativePath = isRelativePath;\nclass Helper {\n    static testPathWithRoot(workSpacePath) {\n        let rootPath;\n        // Test the path is actually exists or not\n        const testPath = path.join(workSpacePath, Config_1.Config.getRoot);\n        let isNotOkay = !fs.existsSync(testPath);\n        if (!isNotOkay) { // means okay :)\n            rootPath = testPath;\n        }\n        else {\n            rootPath = workSpacePath;\n        }\n        if (!rootPath.endsWith(path.sep))\n            rootPath = rootPath + path.sep;\n        return {\n            isNotOkay,\n            rootPath\n        };\n    }\n    /**\n     * This function return the remaining path from root to target.\n     * e.g. : root is `c:\\user\\rootfolder\\` and target is `c:\\user\\rootfolder\\subfolder\\index.html`\n     * then this function will return `subfolder\\index.html` as html is a supported otherwise it will return null.\n     *\n     * @param rootPath\n     * @param targetPath\n     */\n    static getSubPath(rootPath, targetPath) {\n        if (!Helper.IsSupportedFile(targetPath) || !targetPath.startsWith(rootPath)) {\n            return null;\n        }\n        return targetPath.substring(rootPath.length, targetPath.length);\n    }\n    /**\n     * It returns true if file is supported. input can be in full file path or just filename with extension name.\n     * @param file: can be path/subpath/file.ts or file.ts\n     */\n    static IsSupportedFile(file) {\n        let ext = path.extname(file) || (file.startsWith('.') ? file : `.${file}`);\n        return exports.SUPPORTED_EXT.indexOf(ext.toLowerCase()) > -1;\n    }\n    /**\n     *\n     * @param rootPath\n     * @param workspacePath\n     * @param onTagMissedCallback\n     */\n    static generateParams(rootPath, workspacePath, onTagMissedCallback) {\n        workspacePath = workspacePath || '';\n        const port = Config_1.Config.getPort;\n        const ignorePathGlob = Config_1.Config.getIgnoreFiles || [];\n        const ignoreFiles = [];\n        ignorePathGlob.forEach(ignoredPath => {\n            if ((0, exports.isRelativePath)(ignoredPath))\n                ignoreFiles.push(path.join(workspacePath, ignoredPath));\n            else\n                ignoreFiles.push(ignoredPath);\n        });\n        const proxy = Helper.getProxySetup();\n        const https = Helper.getHttpsSetup();\n        const mount = Config_1.Config.getMount;\n        // In live-server mountPath is reslove by `path.resolve(process.cwd(), mountRule[1])`.\n        // but in vscode `process.cwd()` is the vscode extensions path.\n        // The correct path should be resolve by workspacePath.\n        mount.forEach((mountRule) => {\n            if (mountRule.length === 2 && mountRule[1]) {\n                mountRule[1] = path.resolve(workspacePath, mountRule[1]);\n            }\n        });\n        const file = Config_1.Config.getFile;\n        return {\n            port: port,\n            host: '0.0.0.0',\n            root: rootPath,\n            file: file,\n            open: false,\n            https: https,\n            ignore: ignoreFiles,\n            disableGlobbing: true,\n            proxy: proxy,\n            cors: true,\n            wait: Config_1.Config.getWait || 100,\n            fullReload: Config_1.Config.getfullReload,\n            useBrowserExtension: Config_1.Config.getUseWebExt,\n            onTagMissedCallback: onTagMissedCallback,\n            mount: mount\n        };\n    }\n    static getHttpsSetup() {\n        const httpsConfig = Config_1.Config.getHttps;\n        let https = null;\n        if (httpsConfig.enable === true) {\n            let cert = fs.readFileSync(httpsConfig.cert, 'utf8');\n            let key = fs.readFileSync(httpsConfig.key, 'utf8');\n            https = {\n                cert: cert,\n                key: key,\n                passphrase: httpsConfig.passphrase\n            };\n        }\n        return https;\n    }\n    static getProxySetup() {\n        const proxySetup = Config_1.Config.getProxy;\n        let proxy = [[]];\n        if (proxySetup.enable === true) {\n            proxy[0].push(proxySetup.baseUri, proxySetup.proxyUri);\n        }\n        else {\n            proxy = null; // required to change the type [[]] to black array [].\n        }\n        return proxy;\n    }\n}\nexports.Helper = Helper;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMsUUFBUSxDQUFDO1FBQ3BDLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLFdBQVcsQ0FBQyxNQUFNLEtBQUssSUFBSSxFQUFFO1lBQzdCLElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQyxZQUFZLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQztZQUNyRCxJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFDbkQsS0FBSyxHQUFHO2dCQUNKLElBQUksRUFBRSxJQUFJO2dCQUNWLEdBQUcsRUFBRSxHQUFHO2dCQUNSLFVBQVUsRUFBRSxXQUFXLENBQUMsVUFBVTthQUNyQyxDQUFDO1NBQ0w7UUFFRCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRUQsTUFBTSxDQUFDLGFBQWE7UUFDaEIsTUFBTSxVQUFVLEdBQUcsZUFBTSxDQUFDLFFBQVEsQ0FBQztRQUNuQyxJQUFJLEtBQUssR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2pCLElBQUksVUFBVSxDQUFDLE1BQU0sS0FBSyxJQUFJLEVBQUU7WUFDNUIsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxFQUFFLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQztTQUMxRDthQUNJO1lBQ0QsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLHNEQUFzRDtTQUN2RTtRQUVELE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7Q0FDSjtBQTFJRCx3QkEwSUMiLCJzb3VyY2VzIjpbIi4uLy4vc3JjL0hlbHBlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCAqIGFzIGZzIGZyb20gJ2ZzJztcbmltcG9ydCAqIGFzIHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgeyBDb25maWcgfSBmcm9tICcuL0NvbmZpZyc7XG5cbmV4cG9ydCBjb25zdCBTVVBQT1JURURfRVhUOiBzdHJpbmdbXSA9IFtcbiAgICAnLmh0bWwnLCAnLmh0bScsICcuc3ZnJ1xuXTtcblxuZXhwb3J0IGNvbnN0IGlzUmVsYXRpdmVQYXRoID0gKHBhdGhVcmw6IHN0cmluZykgPT4ge1xuICAgIGlmIChwYXRoVXJsLnN0YXJ0c1dpdGgoJyonKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgcmV0dXJuICFwYXRoLmlzQWJzb2x1dGUocGF0aFVybCk7XG59O1xuXG5cbmV4cG9ydCBjbGFzcyBIZWxwZXIge1xuXG5cbiAgICBwdWJsaWMgc3RhdGljIHRlc3RQYXRoV2l0aFJvb3Qod29ya1NwYWNlUGF0aDogc3RyaW5nKSB7XG5cbiAgICAgICAgbGV0IHJvb3RQYXRoOiBzdHJpbmc7XG5cbiAgICAgICAgLy8gVGVzdCB0aGUgcGF0aCBpcyBhY3R1YWxseSBleGlzdHMgb3Igbm90XG4gICAgICAgIGNvbnN0IHRlc3RQYXRoID0gcGF0aC5qb2luKHdvcmtTcGFjZVBhdGgsIENvbmZpZy5nZXRSb290KTtcblxuICAgICAgICBsZXQgaXNOb3RPa2F5ID0gIWZzLmV4aXN0c1N5bmModGVzdFBhdGgpO1xuICAgICAgICBpZiAoIWlzTm90T2theSkgeyAvLyBtZWFucyBva2F5IDopXG4gICAgICAgICAgICByb290UGF0aCA9IHRlc3RQYXRoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcm9vdFBhdGggPSB3b3JrU3BhY2VQYXRoO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFyb290UGF0aC5lbmRzV2l0aChwYXRoLnNlcCkpXG4gICAgICAgICAgICByb290UGF0aCA9IHJvb3RQYXRoICsgcGF0aC5zZXA7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlzTm90T2theSxcbiAgICAgICAgICAgIHJvb3RQYXRoXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiByZXR1cm4gdGhlIHJlbWFpbmluZyBwYXRoIGZyb20gcm9vdCB0byB0YXJnZXQuXG4gICAgICogZS5nLiA6IHJvb3QgaXMgYGM6XFx1c2VyXFxyb290Zm9sZGVyXFxgIGFuZCB0YXJnZXQgaXMgYGM6XFx1c2VyXFxyb290Zm9sZGVyXFxzdWJmb2xkZXJcXGluZGV4Lmh0bWxgXG4gICAgICogdGhlbiB0aGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGBzdWJmb2xkZXJcXGluZGV4Lmh0bWxgIGFzIGh0bWwgaXMgYSBzdXBwb3J0ZWQgb3RoZXJ3aXNlIGl0IHdpbGwgcmV0dXJuIG51bGwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcm9vdFBhdGhcbiAgICAgKiBAcGFyYW0gdGFyZ2V0UGF0aFxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgZ2V0U3ViUGF0aChyb290UGF0aDogc3RyaW5nLCB0YXJnZXRQYXRoOiBzdHJpbmcpIHtcblxuICAgICAgICBpZiAoIUhlbHBlci5Jc1N1cHBvcnRlZEZpbGUodGFyZ2V0UGF0aCkgfHwgIXRhcmdldFBhdGguc3RhcnRzV2l0aChyb290UGF0aCkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldFBhdGguc3Vic3RyaW5nKHJvb3RQYXRoLmxlbmd0aCwgdGFyZ2V0UGF0aC5sZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0IHJldHVybnMgdHJ1ZSBpZiBmaWxlIGlzIHN1cHBvcnRlZC4gaW5wdXQgY2FuIGJlIGluIGZ1bGwgZmlsZSBwYXRoIG9yIGp1c3QgZmlsZW5hbWUgd2l0aCBleHRlbnNpb24gbmFtZS5cbiAgICAgKiBAcGFyYW0gZmlsZTogY2FuIGJlIHBhdGgvc3VicGF0aC9maWxlLnRzIG9yIGZpbGUudHNcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIElzU3VwcG9ydGVkRmlsZShmaWxlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IGV4dCA9IHBhdGguZXh0bmFtZShmaWxlKSB8fCAoZmlsZS5zdGFydHNXaXRoKCcuJykgPyBmaWxlIDogYC4ke2ZpbGV9YCk7XG4gICAgICAgIHJldHVybiBTVVBQT1JURURfRVhULmluZGV4T2YoZXh0LnRvTG93ZXJDYXNlKCkpID4gLTE7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSByb290UGF0aFxuICAgICAqIEBwYXJhbSB3b3Jrc3BhY2VQYXRoXG4gICAgICogQHBhcmFtIG9uVGFnTWlzc2VkQ2FsbGJhY2tcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGdlbmVyYXRlUGFyYW1zKFxuICAgICAgICByb290UGF0aDogc3RyaW5nLFxuICAgICAgICB3b3Jrc3BhY2VQYXRoOiBzdHJpbmcsXG4gICAgICAgIG9uVGFnTWlzc2VkQ2FsbGJhY2s/OiBNZXRob2REZWNvcmF0b3JcbiAgICApIHtcblxuICAgICAgICB3b3Jrc3BhY2VQYXRoID0gd29ya3NwYWNlUGF0aCB8fCAnJztcbiAgICAgICAgY29uc3QgcG9ydCA9IENvbmZpZy5nZXRQb3J0O1xuICAgICAgICBjb25zdCBpZ25vcmVQYXRoR2xvYiA9IENvbmZpZy5nZXRJZ25vcmVGaWxlcyB8fCBbXTtcblxuICAgICAgICBjb25zdCBpZ25vcmVGaWxlcyA9IFtdO1xuICAgICAgICBpZ25vcmVQYXRoR2xvYi5mb3JFYWNoKGlnbm9yZWRQYXRoID0+IHtcbiAgICAgICAgICAgIGlmIChpc1JlbGF0aXZlUGF0aChpZ25vcmVkUGF0aCkpXG4gICAgICAgICAgICAgICAgaWdub3JlRmlsZXMucHVzaChwYXRoLmpvaW4od29ya3NwYWNlUGF0aCwgaWdub3JlZFBhdGgpKTtcbiAgICAgICAgICAgIGVsc2UgaWdub3JlRmlsZXMucHVzaChpZ25vcmVkUGF0aCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHByb3h5ID0gSGVscGVyLmdldFByb3h5U2V0dXAoKTtcbiAgICAgICAgY29uc3QgaHR0cHMgPSBIZWxwZXIuZ2V0SHR0cHNTZXR1cCgpO1xuXG4gICAgICAgIGNvbnN0IG1vdW50ID0gQ29uZmlnLmdldE1vdW50O1xuICAgICAgICAvLyBJbiBsaXZlLXNlcnZlciBtb3VudFBhdGggaXMgcmVzbG92ZSBieSBgcGF0aC5yZXNvbHZlKHByb2Nlc3MuY3dkKCksIG1vdW50UnVsZVsxXSlgLlxuICAgICAgICAvLyBidXQgaW4gdnNjb2RlIGBwcm9jZXNzLmN3ZCgpYCBpcyB0aGUgdnNjb2RlIGV4dGVuc2lvbnMgcGF0aC5cbiAgICAgICAgLy8gVGhlIGNvcnJlY3QgcGF0aCBzaG91bGQgYmUgcmVzb2x2ZSBieSB3b3Jrc3BhY2VQYXRoLlxuICAgICAgICBtb3VudC5mb3JFYWNoKChtb3VudFJ1bGU6IEFycmF5PGFueT4pID0+IHtcbiAgICAgICAgICAgIGlmIChtb3VudFJ1bGUubGVuZ3RoID09PSAyICYmIG1vdW50UnVsZVsxXSkge1xuICAgICAgICAgICAgICAgIG1vdW50UnVsZVsxXSA9IHBhdGgucmVzb2x2ZSh3b3Jrc3BhY2VQYXRoLCBtb3VudFJ1bGVbMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBmaWxlID0gQ29uZmlnLmdldEZpbGU7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwb3J0OiBwb3J0LFxuICAgICAgICAgICAgaG9zdDogJzAuMC4wLjAnLFxuICAgICAgICAgICAgcm9vdDogcm9vdFBhdGgsXG4gICAgICAgICAgICBmaWxlOiBmaWxlLFxuICAgICAgICAgICAgb3BlbjogZmFsc2UsXG4gICAgICAgICAgICBodHRwczogaHR0cHMsXG4gICAgICAgICAgICBpZ25vcmU6IGlnbm9yZUZpbGVzLFxuICAgICAgICAgICAgZGlzYWJsZUdsb2JiaW5nOiB0cnVlLFxuICAgICAgICAgICAgcHJveHk6IHByb3h5LFxuICAgICAgICAgICAgY29yczogdHJ1ZSxcbiAgICAgICAgICAgIHdhaXQ6IENvbmZpZy5nZXRXYWl0IHx8IDEwMCxcbiAgICAgICAgICAgIGZ1bGxSZWxvYWQ6IENvbmZpZy5nZXRmdWxsUmVsb2FkLFxuICAgICAgICAgICAgdXNlQnJvd3NlckV4dGVuc2lvbjogQ29uZmlnLmdldFVzZVdlYkV4dCxcbiAgICAgICAgICAgIG9uVGFnTWlzc2VkQ2FsbGJhY2s6IG9uVGFnTWlzc2VkQ2FsbGJhY2ssXG4gICAgICAgICAgICBtb3VudDogbW91bnRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0SHR0cHNTZXR1cCgpIHtcbiAgICAgICAgY29uc3QgaHR0cHNDb25maWcgPSBDb25maWcuZ2V0SHR0cHM7XG4gICAgICAgIGxldCBodHRwcyA9IG51bGw7XG4gICAgICAgIGlmIChodHRwc0NvbmZpZy5lbmFibGUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGxldCBjZXJ0ID0gZnMucmVhZEZpbGVTeW5jKGh0dHBzQ29uZmlnLmNlcnQsICd1dGY4Jyk7XG4gICAgICAgICAgICBsZXQga2V5ID0gZnMucmVhZEZpbGVTeW5jKGh0dHBzQ29uZmlnLmtleSwgJ3V0ZjgnKTtcbiAgICAgICAgICAgIGh0dHBzID0ge1xuICAgICAgICAgICAgICAgIGNlcnQ6IGNlcnQsXG4gICAgICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICAgICAgcGFzc3BocmFzZTogaHR0cHNDb25maWcucGFzc3BocmFzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBodHRwcztcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0UHJveHlTZXR1cCgpIHtcbiAgICAgICAgY29uc3QgcHJveHlTZXR1cCA9IENvbmZpZy5nZXRQcm94eTtcbiAgICAgICAgbGV0IHByb3h5ID0gW1tdXTtcbiAgICAgICAgaWYgKHByb3h5U2V0dXAuZW5hYmxlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBwcm94eVswXS5wdXNoKHByb3h5U2V0dXAuYmFzZVVyaSwgcHJveHlTZXR1cC5wcm94eVVyaSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcm94eSA9IG51bGw7IC8vIHJlcXVpcmVkIHRvIGNoYW5nZSB0aGUgdHlwZSBbW11dIHRvIGJsYWNrIGFycmF5IFtdLlxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHByb3h5O1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/Helper.ts\n\n}");

/***/ }),

/***/ "./src/LiveServerHelper.ts":
/*!*********************************!*\
  !*** ./src/LiveServerHelper.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("{\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LiveServerHelper = void 0;\nclass LiveServerHelper {\n    static StartServer(params, callback) {\n        setTimeout(() => {\n            try {\n                let ServerInstance = (__webpack_require__(/*! live-server */ \"live-server\").start)(params);\n                setTimeout(() => {\n                    if (!ServerInstance._connectionKey) {\n                        return callback({});\n                    }\n                    __webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'http-shutdown'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()))(ServerInstance);\n                    return callback(ServerInstance);\n                }, 1000);\n            }\n            catch (err) {\n                console.error(err);\n                callback({\n                    errorMsg: err\n                });\n            }\n        }, 0);\n    }\n    static StopServer(LiveServerInstance, callback) {\n        LiveServerInstance.shutdown(() => {\n            // callback(); /*only Working first time, Unknown Bug*/\n        });\n        LiveServerInstance.close();\n        (__webpack_require__(/*! live-server */ \"live-server\").shutdown)();\n        setTimeout(() => { callback(); }, 1000);\n    }\n}\nexports.LiveServerHelper = LiveServerHelper;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvTGl2ZVNlcnZlckhlbHBlci50cyIsIm1hcHBpbmdzIjoiQUFBYTs7O0FBRWIsTUFBYSxnQkFBZ0I7SUFFekIsTUFBTSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsUUFBUTtRQUMvQixVQUFVLENBQUMsR0FBRyxFQUFFO1lBQ1osSUFBSTtnQkFDQSxJQUFJLGNBQWMsR0FBRyw2REFBNEIsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDMUQsVUFBVSxDQUFDLEdBQUcsRUFBRTtvQkFFWixJQUFJLENBQUMsY0FBYyxDQUFDLGNBQWMsRUFBRTt3QkFDaEMsT0FBTyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUM7cUJBQ3ZCO29CQUVELG1CQUFPLENBQUMsNElBQWUsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDO29CQUN6QyxPQUFPLFFBQVEsQ0FBQyxjQUFjLENBQUMsQ0FBQztnQkFFcEMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO2FBQ1o7WUFBQyxPQUFPLEdBQUcsRUFBRTtnQkFDVixPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNuQixRQUFRLENBQUM7b0JBQ0wsUUFBUSxFQUFFLEdBQUc7aUJBQ2hCLENBQUMsQ0FBQzthQUNOO1FBRUwsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBRVYsQ0FBQztJQUVELE1BQU0sQ0FBQyxVQUFVLENBQUMsa0JBQWtCLEVBQUUsUUFBUTtRQUMxQyxrQkFBa0IsQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFO1lBQzdCLHVEQUF1RDtRQUMzRCxDQUFDLENBQUMsQ0FBQztRQUNILGtCQUFrQixDQUFDLEtBQUssRUFBRSxDQUFDO1FBQzNCLGdFQUErQixFQUFFLENBQUM7UUFDbEMsVUFBVSxDQUFDLEdBQUcsRUFBRSxHQUFHLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQzVDLENBQUM7Q0FDSjtBQW5DRCw0Q0FtQ0MiLCJzb3VyY2VzIjpbIi4uLy4vc3JjL0xpdmVTZXJ2ZXJIZWxwZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgY2xhc3MgTGl2ZVNlcnZlckhlbHBlciB7XG5cbiAgICBzdGF0aWMgU3RhcnRTZXJ2ZXIocGFyYW1zLCBjYWxsYmFjaykge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbGV0IFNlcnZlckluc3RhbmNlID0gcmVxdWlyZSgnbGl2ZS1zZXJ2ZXInKS5zdGFydChwYXJhbXMpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghU2VydmVySW5zdGFuY2UuX2Nvbm5lY3Rpb25LZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayh7fSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlKCdodHRwLXNodXRkb3duJykoU2VydmVySW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soU2VydmVySW5zdGFuY2UpO1xuXG4gICAgICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgICAgICAgICAgICBlcnJvck1zZzogZXJyXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSwgMCk7XG5cbiAgICB9XG5cbiAgICBzdGF0aWMgU3RvcFNlcnZlcihMaXZlU2VydmVySW5zdGFuY2UsIGNhbGxiYWNrKSB7XG4gICAgICAgIExpdmVTZXJ2ZXJJbnN0YW5jZS5zaHV0ZG93bigoKSA9PiB7XG4gICAgICAgICAgICAvLyBjYWxsYmFjaygpOyAvKm9ubHkgV29ya2luZyBmaXJzdCB0aW1lLCBVbmtub3duIEJ1ZyovXG4gICAgICAgIH0pO1xuICAgICAgICBMaXZlU2VydmVySW5zdGFuY2UuY2xvc2UoKTtcbiAgICAgICAgcmVxdWlyZSgnbGl2ZS1zZXJ2ZXInKS5zaHV0ZG93bigpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgY2FsbGJhY2soKTsgfSwgMTAwMCk7XG4gICAgfVxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/LiveServerHelper.ts\n\n}");

/***/ }),

/***/ "./src/LiveShareHelper.ts":
/*!********************************!*\
  !*** ./src/LiveShareHelper.ts ***!
  \********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("{\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LiveShareHelper = void 0;\nconst vsls = __importStar(__webpack_require__(/*! vsls/vscode */ \"./node_modules/vsls/vscode.ts\"));\n/**\n * Manages state of a live server shared via VS Live Share.\n * Caches the live server path and starts/stops sharing in response to Live Share session events.\n */\nclass LiveShareHelper {\n    constructor(appModel) {\n        this.appModel = appModel;\n        this.appModel.onDidGoLive((e) => __awaiter(this, void 0, void 0, function* () {\n            // cache the current live server browse url\n            this.livePathUri = e.pathUri;\n            yield this.shareLiveServer();\n        }));\n        this.appModel.onDidGoOffline((e) => {\n            // reset the live server cached path\n            this.livePathUri = null;\n            if (this.activeHostSession && this.sharedServer) {\n                // will un-share the server\n                this.sharedServer.dispose();\n                this.sharedServer = null;\n            }\n        });\n        this.deferredWork = vsls.getApi().then(api => {\n            if (api) { // if Live Share is available (installed)\n                this.ensureInitialized(api);\n            }\n        });\n    }\n    dispose() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.deferredWork;\n        });\n    }\n    ensureInitialized(api) {\n        this.liveshare = api;\n        if (this.liveshare.session && this.liveshare.session.role === vsls.Role.Host) {\n            this.activeHostSession = this.liveshare.session;\n        }\n        this.liveshare.onDidChangeSession((e) => __awaiter(this, void 0, void 0, function* () {\n            if (e.session.role === vsls.Role.Host) {\n                // active sharing collaboration session\n                this.activeHostSession = e.session;\n                yield this.shareLiveServer();\n            }\n            else {\n                // any other session state, including joined as a guest\n                this.activeHostSession = null;\n            }\n        }));\n    }\n    shareLiveServer() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.activeHostSession && this.livePathUri) {\n                // only share the server when we're live and VS Live Share session is active\n                this.sharedServer = yield this.liveshare.shareServer({\n                    port: this.appModel.runningPort,\n                    displayName: 'Live Server',\n                    browseUrl: `http://localhost:${this.appModel.runningPort}/${this.livePathUri.replace(/\\\\/gi, '/')}`\n                });\n            }\n        });\n    }\n}\nexports.LiveShareHelper = LiveShareHelper;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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MENBNkRDIiwic291cmNlcyI6WyIuLi8uL3NyYy9MaXZlU2hhcmVIZWxwZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgKiBhcyB2c2NvZGUgZnJvbSAndnNjb2RlJztcbmltcG9ydCAqIGFzIHZzbHMgZnJvbSAndnNscy92c2NvZGUnO1xuaW1wb3J0IHsgSUFwcE1vZGVsLCBHb0xpdmVFdmVudCwgR29PZmZsaW5lRXZlbnQgfSBmcm9tICcuL0lBcHBNb2RlbCc7XG5cbi8qKlxuICogTWFuYWdlcyBzdGF0ZSBvZiBhIGxpdmUgc2VydmVyIHNoYXJlZCB2aWEgVlMgTGl2ZSBTaGFyZS5cbiAqIENhY2hlcyB0aGUgbGl2ZSBzZXJ2ZXIgcGF0aCBhbmQgc3RhcnRzL3N0b3BzIHNoYXJpbmcgaW4gcmVzcG9uc2UgdG8gTGl2ZSBTaGFyZSBzZXNzaW9uIGV2ZW50cy5cbiAqL1xuZXhwb3J0IGNsYXNzIExpdmVTaGFyZUhlbHBlciBpbXBsZW1lbnRzIHZzY29kZS5EaXNwb3NhYmxlIHtcbiAgICBwcml2YXRlIGxpdmVzaGFyZTogdnNscy5MaXZlU2hhcmUgfCB1bmRlZmluZWQ7XG4gICAgcHJpdmF0ZSBhY3RpdmVIb3N0U2Vzc2lvbjogdnNscy5TZXNzaW9uIHwgdW5kZWZpbmVkO1xuICAgIHByaXZhdGUgbGl2ZVBhdGhVcmk6IHN0cmluZztcblxuICAgIHByaXZhdGUgZGVmZXJyZWRXb3JrOiBQcm9taXNlPHZvaWQ+O1xuICAgIHByaXZhdGUgc2hhcmVkU2VydmVyOiB2c2NvZGUuRGlzcG9zYWJsZTtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgYXBwTW9kZWw6IElBcHBNb2RlbCkge1xuICAgICAgICB0aGlzLmFwcE1vZGVsLm9uRGlkR29MaXZlKGFzeW5jIChlOiBHb0xpdmVFdmVudCkgPT4ge1xuICAgICAgICAgICAgLy8gY2FjaGUgdGhlIGN1cnJlbnQgbGl2ZSBzZXJ2ZXIgYnJvd3NlIHVybFxuICAgICAgICAgICAgdGhpcy5saXZlUGF0aFVyaSA9IGUucGF0aFVyaTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuc2hhcmVMaXZlU2VydmVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFwcE1vZGVsLm9uRGlkR29PZmZsaW5lKChlOiBHb09mZmxpbmVFdmVudCkgPT4ge1xuICAgICAgICAgICAgLy8gcmVzZXQgdGhlIGxpdmUgc2VydmVyIGNhY2hlZCBwYXRoXG4gICAgICAgICAgICB0aGlzLmxpdmVQYXRoVXJpID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZUhvc3RTZXNzaW9uICYmIHRoaXMuc2hhcmVkU2VydmVyKSB7XG4gICAgICAgICAgICAgICAgLy8gd2lsbCB1bi1zaGFyZSB0aGUgc2VydmVyXG4gICAgICAgICAgICAgICAgdGhpcy5zaGFyZWRTZXJ2ZXIuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2hhcmVkU2VydmVyID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVmZXJyZWRXb3JrID0gdnNscy5nZXRBcGkoKS50aGVuKGFwaSA9PiB7XG4gICAgICAgICAgICBpZiAoYXBpKSB7IC8vIGlmIExpdmUgU2hhcmUgaXMgYXZhaWxhYmxlIChpbnN0YWxsZWQpXG4gICAgICAgICAgICAgICAgdGhpcy5lbnN1cmVJbml0aWFsaXplZChhcGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYyBkaXNwb3NlKCkge1xuICAgICAgICBhd2FpdCB0aGlzLmRlZmVycmVkV29yaztcbiAgICB9XG5cbiAgICBwcml2YXRlIGVuc3VyZUluaXRpYWxpemVkKGFwaTogdnNscy5MaXZlU2hhcmUpIHtcbiAgICAgICAgdGhpcy5saXZlc2hhcmUgPSBhcGk7XG4gICAgICAgIGlmICh0aGlzLmxpdmVzaGFyZS5zZXNzaW9uICYmIHRoaXMubGl2ZXNoYXJlLnNlc3Npb24ucm9sZSA9PT0gdnNscy5Sb2xlLkhvc3QpIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlSG9zdFNlc3Npb24gPSB0aGlzLmxpdmVzaGFyZS5zZXNzaW9uO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGl2ZXNoYXJlLm9uRGlkQ2hhbmdlU2Vzc2lvbihhc3luYyAoZTogdnNscy5TZXNzaW9uQ2hhbmdlRXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChlLnNlc3Npb24ucm9sZSA9PT0gdnNscy5Sb2xlLkhvc3QpIHtcbiAgICAgICAgICAgICAgICAvLyBhY3RpdmUgc2hhcmluZyBjb2xsYWJvcmF0aW9uIHNlc3Npb25cbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZUhvc3RTZXNzaW9uID0gZS5zZXNzaW9uO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2hhcmVMaXZlU2VydmVyKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGFueSBvdGhlciBzZXNzaW9uIHN0YXRlLCBpbmNsdWRpbmcgam9pbmVkIGFzIGEgZ3Vlc3RcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZUhvc3RTZXNzaW9uID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyBzaGFyZUxpdmVTZXJ2ZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZUhvc3RTZXNzaW9uICYmIHRoaXMubGl2ZVBhdGhVcmkpIHtcbiAgICAgICAgICAgIC8vIG9ubHkgc2hhcmUgdGhlIHNlcnZlciB3aGVuIHdlJ3JlIGxpdmUgYW5kIFZTIExpdmUgU2hhcmUgc2Vzc2lvbiBpcyBhY3RpdmVcbiAgICAgICAgICAgIHRoaXMuc2hhcmVkU2VydmVyID0gYXdhaXQgdGhpcy5saXZlc2hhcmUuc2hhcmVTZXJ2ZXIoe1xuICAgICAgICAgICAgICAgIHBvcnQ6IHRoaXMuYXBwTW9kZWwucnVubmluZ1BvcnQsXG4gICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdMaXZlIFNlcnZlcicsXG4gICAgICAgICAgICAgICAgYnJvd3NlVXJsOiBgaHR0cDovL2xvY2FsaG9zdDoke3RoaXMuYXBwTW9kZWwucnVubmluZ1BvcnR9LyR7dGhpcy5saXZlUGF0aFVyaS5yZXBsYWNlKC9cXFxcL2dpLCAnLycpfWBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/LiveShareHelper.ts\n\n}");

/***/ }),

/***/ "./src/StatusbarUi.ts":
/*!****************************!*\
  !*** ./src/StatusbarUi.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("{\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.StatusbarUi = void 0;\nconst vscode_1 = __webpack_require__(/*! vscode */ \"vscode\");\nconst Config_1 = __webpack_require__(/*! ./Config */ \"./src/Config.ts\");\nclass StatusbarUi {\n    static get statusbar() {\n        if (!StatusbarUi._statusBarItem) {\n            StatusbarUi._statusBarItem = vscode_1.window\n                .createStatusBarItem(vscode_1.StatusBarAlignment.Right, 100);\n            // Show status bar only if user wants :)\n            if (Config_1.Config.getShowOnStatusbar)\n                this.statusbar.show();\n        }\n        return StatusbarUi._statusBarItem;\n    }\n    static Init() {\n        StatusbarUi.Live();\n    }\n    static Working(workingMsg = 'Working on it...') {\n        StatusbarUi.statusbar.text = `$(pulse) ${workingMsg}`;\n        StatusbarUi.statusbar.tooltip = 'In case if it takes long time, try to close all browser window.';\n        StatusbarUi.statusbar.command = null;\n    }\n    static Live() {\n        StatusbarUi.statusbar.text = '$(broadcast) Go Live';\n        StatusbarUi.statusbar.command = 'extension.liveServer.goOnline';\n        StatusbarUi.statusbar.tooltip = 'Click to run live server';\n    }\n    static Offline(port) {\n        StatusbarUi.statusbar.text = `$(circle-slash) Port : ${port}`;\n        StatusbarUi.statusbar.command = 'extension.liveServer.goOffline';\n        StatusbarUi.statusbar.tooltip = 'Click to close server';\n    }\n    static dispose() {\n        StatusbarUi.statusbar.dispose();\n    }\n}\nexports.StatusbarUi = StatusbarUi;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvU3RhdHVzYmFyVWkudHMiLCJtYXBwaW5ncyI6Ijs7O0FBQUEsNkRBQW1FO0FBQ25FLHdFQUFrQztBQUNsQyxNQUFhLFdBQVc7SUFJWixNQUFNLEtBQUssU0FBUztRQUN4QixJQUFJLENBQUMsV0FBVyxDQUFDLGNBQWMsRUFBRTtZQUM3QixXQUFXLENBQUMsY0FBYyxHQUFHLGVBQU07aUJBQzlCLG1CQUFtQixDQUFDLDJCQUFrQixDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQztZQUV4RCx3Q0FBd0M7WUFDeEMsSUFBSSxlQUFNLENBQUMsa0JBQWtCO2dCQUN6QixJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFDO1NBQzdCO1FBRUQsT0FBTyxXQUFXLENBQUMsY0FBYyxDQUFDO0lBQ3RDLENBQUM7SUFFRCxNQUFNLENBQUMsSUFBSTtRQUNQLFdBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUN2QixDQUFDO0lBRUQsTUFBTSxDQUFDLE9BQU8sQ0FBQyxhQUFxQixrQkFBa0I7UUFDbEQsV0FBVyxDQUFDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsWUFBWSxVQUFVLEVBQUUsQ0FBQztRQUN0RCxXQUFXLENBQUMsU0FBUyxDQUFDLE9BQU8sR0FBRyxpRUFBaUUsQ0FBQztRQUNsRyxXQUFXLENBQUMsU0FBUyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7SUFDekMsQ0FBQztJQUVNLE1BQU0sQ0FBQyxJQUFJO1FBQ2QsV0FBVyxDQUFDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsc0JBQXNCLENBQUM7UUFDcEQsV0FBVyxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsK0JBQStCLENBQUM7UUFDaEUsV0FBVyxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsMEJBQTBCLENBQUM7SUFDL0QsQ0FBQztJQUVNLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBWTtRQUM5QixXQUFXLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRywwQkFBMEIsSUFBSSxFQUFFLENBQUM7UUFDOUQsV0FBVyxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsZ0NBQWdDLENBQUM7UUFDakUsV0FBVyxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsdUJBQXVCLENBQUM7SUFDNUQsQ0FBQztJQUVNLE1BQU0sQ0FBQyxPQUFPO1FBQ2pCLFdBQVcsQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDcEMsQ0FBQztDQUNKO0FBMUNELGtDQTBDQyIsInNvdXJjZXMiOlsiLi4vLi9zcmMvU3RhdHVzYmFyVWkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3RhdHVzQmFySXRlbSwgd2luZG93LCBTdGF0dXNCYXJBbGlnbm1lbnQgfSBmcm9tICd2c2NvZGUnO1xuaW1wb3J0IHsgQ29uZmlnIH0gZnJvbSAnLi9Db25maWcnO1xuZXhwb3J0IGNsYXNzIFN0YXR1c2JhclVpIHtcblxuICAgIHByaXZhdGUgc3RhdGljIF9zdGF0dXNCYXJJdGVtOiBTdGF0dXNCYXJJdGVtO1xuXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0IHN0YXR1c2JhcigpIHtcbiAgICAgICAgaWYgKCFTdGF0dXNiYXJVaS5fc3RhdHVzQmFySXRlbSkge1xuICAgICAgICAgICAgU3RhdHVzYmFyVWkuX3N0YXR1c0Jhckl0ZW0gPSB3aW5kb3dcbiAgICAgICAgICAgICAgICAuY3JlYXRlU3RhdHVzQmFySXRlbShTdGF0dXNCYXJBbGlnbm1lbnQuUmlnaHQsIDEwMCk7XG5cbiAgICAgICAgICAgIC8vIFNob3cgc3RhdHVzIGJhciBvbmx5IGlmIHVzZXIgd2FudHMgOilcbiAgICAgICAgICAgIGlmIChDb25maWcuZ2V0U2hvd09uU3RhdHVzYmFyKVxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzYmFyLnNob3coKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBTdGF0dXNiYXJVaS5fc3RhdHVzQmFySXRlbTtcbiAgICB9XG5cbiAgICBzdGF0aWMgSW5pdCgpIHtcbiAgICAgICAgU3RhdHVzYmFyVWkuTGl2ZSgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBXb3JraW5nKHdvcmtpbmdNc2c6IHN0cmluZyA9ICdXb3JraW5nIG9uIGl0Li4uJykge1xuICAgICAgICBTdGF0dXNiYXJVaS5zdGF0dXNiYXIudGV4dCA9IGAkKHB1bHNlKSAke3dvcmtpbmdNc2d9YDtcbiAgICAgICAgU3RhdHVzYmFyVWkuc3RhdHVzYmFyLnRvb2x0aXAgPSAnSW4gY2FzZSBpZiBpdCB0YWtlcyBsb25nIHRpbWUsIHRyeSB0byBjbG9zZSBhbGwgYnJvd3NlciB3aW5kb3cuJztcbiAgICAgICAgU3RhdHVzYmFyVWkuc3RhdHVzYmFyLmNvbW1hbmQgPSBudWxsO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgTGl2ZSgpIHtcbiAgICAgICAgU3RhdHVzYmFyVWkuc3RhdHVzYmFyLnRleHQgPSAnJChicm9hZGNhc3QpIEdvIExpdmUnO1xuICAgICAgICBTdGF0dXNiYXJVaS5zdGF0dXNiYXIuY29tbWFuZCA9ICdleHRlbnNpb24ubGl2ZVNlcnZlci5nb09ubGluZSc7XG4gICAgICAgIFN0YXR1c2JhclVpLnN0YXR1c2Jhci50b29sdGlwID0gJ0NsaWNrIHRvIHJ1biBsaXZlIHNlcnZlcic7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBPZmZsaW5lKHBvcnQ6IE51bWJlcikge1xuICAgICAgICBTdGF0dXNiYXJVaS5zdGF0dXNiYXIudGV4dCA9IGAkKGNpcmNsZS1zbGFzaCkgUG9ydCA6ICR7cG9ydH1gO1xuICAgICAgICBTdGF0dXNiYXJVaS5zdGF0dXNiYXIuY29tbWFuZCA9ICdleHRlbnNpb24ubGl2ZVNlcnZlci5nb09mZmxpbmUnO1xuICAgICAgICBTdGF0dXNiYXJVaS5zdGF0dXNiYXIudG9vbHRpcCA9ICdDbGljayB0byBjbG9zZSBzZXJ2ZXInO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZGlzcG9zZSgpIHtcbiAgICAgICAgU3RhdHVzYmFyVWkuc3RhdHVzYmFyLmRpc3Bvc2UoKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/StatusbarUi.ts\n\n}");

/***/ }),

/***/ "./src/announcement/index.ts":
/*!***********************************!*\
  !*** ./src/announcement/index.ts ***!
  \***********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("{\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.checkNewAnnouncement = exports.SETUP_STRING = void 0;\nconst vscode_1 = __webpack_require__(/*! vscode */ \"vscode\");\nexports.SETUP_STRING = 'liveServer.setup.version';\nfunction checkNewAnnouncement(memento) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const packageJSON = vscode_1.extensions.getExtension('ritwickdey.LiveServer').packageJSON;\n        const announcement = packageJSON.announcement;\n        if (!announcement && Object.keys(announcement).length === 0)\n            return;\n        const stateVersion = (yield memento.get(exports.SETUP_STRING)) || '0.0.0';\n        const installedVersion = packageJSON.version;\n        if (stateVersion !== installedVersion && installedVersion === announcement.onVersion) {\n            yield memento.update(exports.SETUP_STRING, installedVersion);\n            const showDetails = 'Show Details';\n            const choice = yield vscode_1.window.showInformationMessage(announcement.message, showDetails);\n            if (choice === showDetails) {\n                const url = announcement.url || 'https://github.com/ritwickdey/vscode-live-server';\n                __webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'opn'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()))(url);\n            }\n        }\n    });\n}\nexports.checkNewAnnouncement = checkNewAnnouncement;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvYW5ub3VuY2VtZW50L2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLDZEQUFxRDtBQUV4QyxvQkFBWSxHQUFHLDBCQUEwQixDQUFDO0FBRXZELFNBQXNCLG9CQUFvQixDQUFDLE9BQWdCOztRQUV2RCxNQUFNLFdBQVcsR0FBRyxtQkFBVSxDQUFDLFlBQVksQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLFdBQVcsQ0FBQztRQUNqRixNQUFNLFlBQVksR0FBRyxXQUFXLENBQUMsWUFBWSxDQUFDO1FBRTlDLElBQUksQ0FBQyxZQUFZLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxNQUFNLEtBQUssQ0FBQztZQUFFLE9BQU87UUFFcEUsTUFBTSxZQUFZLEdBQUcsT0FBTSxPQUFPLENBQUMsR0FBRyxDQUFDLG9CQUFZLENBQUMsS0FBSSxPQUFPLENBQUM7UUFDaEUsTUFBTSxnQkFBZ0IsR0FBRyxXQUFXLENBQUMsT0FBTyxDQUFDO1FBRTdDLElBQUksWUFBWSxLQUFLLGdCQUFnQixJQUFJLGdCQUFnQixLQUFLLFlBQVksQ0FBQyxTQUFTLEVBQUU7WUFDbEYsTUFBTSxPQUFPLENBQUMsTUFBTSxDQUFDLG9CQUFZLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztZQUNyRCxNQUFNLFdBQVcsR0FBRyxjQUFjLENBQUM7WUFDbkMsTUFBTSxNQUFNLEdBQUcsTUFBTSxlQUFNLENBQUMsc0JBQXNCLENBQUMsWUFBWSxDQUFDLE9BQU8sRUFBRSxXQUFXLENBQUMsQ0FBQztZQUN0RixJQUFJLE1BQU0sS0FBSyxXQUFXLEVBQUU7Z0JBQ3hCLE1BQU0sR0FBRyxHQUFHLFlBQVksQ0FBQyxHQUFHLElBQUksa0RBQWtELENBQUM7Z0JBQ25GLG1CQUFPLENBQUMsa0lBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQ3ZCO1NBRUo7SUFFTCxDQUFDO0NBQUE7QUFyQkQsb0RBcUJDIiwic291cmNlcyI6WyIuLi8uL3NyYy9hbm5vdW5jZW1lbnQvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWVtZW50bywgZXh0ZW5zaW9ucywgd2luZG93IH0gZnJvbSAndnNjb2RlJztcblxuZXhwb3J0IGNvbnN0IFNFVFVQX1NUUklORyA9ICdsaXZlU2VydmVyLnNldHVwLnZlcnNpb24nO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2hlY2tOZXdBbm5vdW5jZW1lbnQobWVtZW50bzogTWVtZW50bykge1xuXG4gICAgY29uc3QgcGFja2FnZUpTT04gPSBleHRlbnNpb25zLmdldEV4dGVuc2lvbigncml0d2lja2RleS5MaXZlU2VydmVyJykucGFja2FnZUpTT047XG4gICAgY29uc3QgYW5ub3VuY2VtZW50ID0gcGFja2FnZUpTT04uYW5ub3VuY2VtZW50O1xuXG4gICAgaWYgKCFhbm5vdW5jZW1lbnQgJiYgT2JqZWN0LmtleXMoYW5ub3VuY2VtZW50KS5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgIGNvbnN0IHN0YXRlVmVyc2lvbiA9IGF3YWl0IG1lbWVudG8uZ2V0KFNFVFVQX1NUUklORykgfHwgJzAuMC4wJztcbiAgICBjb25zdCBpbnN0YWxsZWRWZXJzaW9uID0gcGFja2FnZUpTT04udmVyc2lvbjtcblxuICAgIGlmIChzdGF0ZVZlcnNpb24gIT09IGluc3RhbGxlZFZlcnNpb24gJiYgaW5zdGFsbGVkVmVyc2lvbiA9PT0gYW5ub3VuY2VtZW50Lm9uVmVyc2lvbikge1xuICAgICAgICBhd2FpdCBtZW1lbnRvLnVwZGF0ZShTRVRVUF9TVFJJTkcsIGluc3RhbGxlZFZlcnNpb24pO1xuICAgICAgICBjb25zdCBzaG93RGV0YWlscyA9ICdTaG93IERldGFpbHMnO1xuICAgICAgICBjb25zdCBjaG9pY2UgPSBhd2FpdCB3aW5kb3cuc2hvd0luZm9ybWF0aW9uTWVzc2FnZShhbm5vdW5jZW1lbnQubWVzc2FnZSwgc2hvd0RldGFpbHMpO1xuICAgICAgICBpZiAoY2hvaWNlID09PSBzaG93RGV0YWlscykge1xuICAgICAgICAgICAgY29uc3QgdXJsID0gYW5ub3VuY2VtZW50LnVybCB8fCAnaHR0cHM6Ly9naXRodWIuY29tL3JpdHdpY2tkZXkvdnNjb2RlLWxpdmUtc2VydmVyJztcbiAgICAgICAgICAgIHJlcXVpcmUoJ29wbicpKHVybCk7XG4gICAgICAgIH1cblxuICAgIH1cblxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/announcement/index.ts\n\n}");

/***/ }),

/***/ "./src/appModel.ts":
/*!*************************!*\
  !*** ./src/appModel.ts ***!
  \*************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("{\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.AppModel = void 0;\nconst vscode_1 = __webpack_require__(/*! vscode */ \"vscode\");\nconst LiveServerHelper_1 = __webpack_require__(/*! ./LiveServerHelper */ \"./src/LiveServerHelper.ts\");\nconst StatusbarUi_1 = __webpack_require__(/*! ./StatusbarUi */ \"./src/StatusbarUi.ts\");\nconst Config_1 = __webpack_require__(/*! ./Config */ \"./src/Config.ts\");\nconst Helper_1 = __webpack_require__(/*! ./Helper */ \"./src/Helper.ts\");\nconst workspaceResolver_1 = __webpack_require__(/*! ./workspaceResolver */ \"./src/workspaceResolver.ts\");\nconst LiveShareHelper_1 = __webpack_require__(/*! ./LiveShareHelper */ \"./src/LiveShareHelper.ts\");\nclass AppModel {\n    constructor() {\n        this.goLiveEvent = new vscode_1.EventEmitter();\n        this.goOfflineEvent = new vscode_1.EventEmitter();\n        this.IsServerRunning = false;\n        this.runningPort = null;\n        this.liveShareHelper = new LiveShareHelper_1.LiveShareHelper(this);\n        StatusbarUi_1.StatusbarUi.Init();\n    }\n    get onDidGoLive() {\n        return this.goLiveEvent.event;\n    }\n    get onDidGoOffline() {\n        return this.goOfflineEvent.event;\n    }\n    Golive(pathUri) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // if no folder is opened.\n            if (!vscode_1.workspace.workspaceFolders) {\n                return this.showPopUpMsg(`Open a folder or workspace... (File -> Open Folder)`, true);\n            }\n            if (!vscode_1.workspace.workspaceFolders.length) {\n                return this.showPopUpMsg(`You've not added any folder in the workspace`, true);\n            }\n            const workspacePath = yield (0, workspaceResolver_1.workspaceResolver)(pathUri);\n            if (!this.isCorrectWorkspace(workspacePath))\n                return;\n            const openedDocUri = pathUri || (vscode_1.window.activeTextEditor ? vscode_1.window.activeTextEditor.document.fileName : '');\n            const pathInfos = Helper_1.Helper.testPathWithRoot(workspacePath);\n            if (this.IsServerRunning) {\n                const relativePath = Helper_1.Helper.getSubPath(pathInfos.rootPath, openedDocUri) || '';\n                this.goLiveEvent.fire({ runningPort: this.runningPort, pathUri: relativePath });\n                return this.openBrowser(this.runningPort, relativePath);\n            }\n            if (pathInfos.isNotOkay) {\n                this.showPopUpMsg('Invalid Path in liveServer.settings.root settings. live Server will serve from workspace root', true);\n            }\n            if (this.isServerBusy)\n                return;\n            let params = Helper_1.Helper.generateParams(pathInfos.rootPath, workspacePath, () => {\n                this.tagMissedCallback();\n            });\n            this.isServerBusy = true;\n            StatusbarUi_1.StatusbarUi.Working('Starting...');\n            LiveServerHelper_1.LiveServerHelper.StartServer(params, (serverInstance) => __awaiter(this, void 0, void 0, function* () {\n                this.isServerBusy = false;\n                if (serverInstance && serverInstance.address) {\n                    this.LiveServerInstance = serverInstance;\n                    this.runningPort = serverInstance.address().port;\n                    this.ToggleStatusBar();\n                    this.showPopUpMsg(`Server is Started at port : ${this.runningPort}`);\n                    if (!Config_1.Config.getNoBrowser) {\n                        const relativePath = Helper_1.Helper.getSubPath(pathInfos.rootPath, openedDocUri) || '';\n                        this.goLiveEvent.fire({ runningPort: this.runningPort, pathUri: relativePath });\n                        this.openBrowser(this.runningPort, relativePath);\n                    }\n                }\n                else {\n                    if (!serverInstance.errorMsg) {\n                        yield Config_1.Config.setPort(Config_1.Config.getPort + 1); // + 1 will be fine\n                        this.showPopUpMsg(`The default port : ${Config_1.Config.getPort - 1} is currently taken, changing port to : ${Config_1.Config.getPort}.`);\n                        this.Golive(pathUri);\n                    }\n                    else {\n                        this.showPopUpMsg(`Something went wrong! Please check into Developer Console or report on GitHub.`, true);\n                    }\n                    this.IsServerRunning = true; // to revert status - cheat :p\n                    this.ToggleStatusBar(); // reverted\n                }\n            }));\n        });\n    }\n    GoOffline() {\n        if (this.isServerBusy)\n            return;\n        if (!this.IsServerRunning) {\n            this.showPopUpMsg(`Server is not already running`);\n            return;\n        }\n        this.goOfflineEvent.fire({ runningPort: this.runningPort });\n        this.isServerBusy = true;\n        StatusbarUi_1.StatusbarUi.Working('Disposing...');\n        LiveServerHelper_1.LiveServerHelper.StopServer(this.LiveServerInstance, () => {\n            this.showPopUpMsg('Server is now offline.');\n            this.isServerBusy = false;\n            this.ToggleStatusBar();\n            this.LiveServerInstance = null;\n            this.runningPort = null;\n            this.previousWorkspacePath = null;\n        });\n    }\n    changeWorkspaceRoot() {\n        (0, workspaceResolver_1.setOrChangeWorkspace)()\n            .then(workspaceName => {\n            if (workspaceName === undefined)\n                return;\n            vscode_1.window.showInformationMessage(`Success! '${workspaceName}' workspace is now root of Live Server`);\n            // If server is running, Turn off the server.\n            if (this.IsServerRunning)\n                this.GoOffline();\n        });\n    }\n    isCorrectWorkspace(workspacePath) {\n        if (this.IsServerRunning &&\n            this.previousWorkspacePath &&\n            this.previousWorkspacePath !== workspacePath) {\n            this.showPopUpMsg(`Server is already running from different workspace.`, true);\n            return false;\n        }\n        else\n            this.previousWorkspacePath = workspacePath;\n        return true;\n    }\n    tagMissedCallback() {\n        this.showPopUpMsg('Live Reload is not possible without a head or body tag.', null, true);\n    }\n    showPopUpMsg(msg, isErrorMsg = false, isWarning = false) {\n        if (isErrorMsg) {\n            vscode_1.window.showErrorMessage(msg);\n        }\n        else if (isWarning && !Config_1.Config.getDonotVerifyTags) {\n            const donotShowMsg = 'I understand, Don\\'t show again';\n            vscode_1.window.showWarningMessage(msg, donotShowMsg)\n                .then(choice => {\n                if (choice && choice === donotShowMsg) {\n                    Config_1.Config.setDonotVerifyTags(true, true);\n                }\n            });\n        }\n        else if (!Config_1.Config.getDonotShowInfoMsg) {\n            const donotShowMsg = 'Don\\'t show again';\n            vscode_1.window.showInformationMessage(msg, donotShowMsg)\n                .then(choice => {\n                if (choice && choice === donotShowMsg) {\n                    Config_1.Config.setDonotShowInfoMsg(true, true);\n                }\n            });\n        }\n    }\n    ToggleStatusBar() {\n        if (!this.IsServerRunning) {\n            StatusbarUi_1.StatusbarUi.Offline(this.runningPort || Config_1.Config.getPort);\n        }\n        else {\n            StatusbarUi_1.StatusbarUi.Live();\n        }\n        this.IsServerRunning = !this.IsServerRunning;\n    }\n    haveAnySupportedFile() {\n        return new Promise(resolve => {\n            const globFormat = `**/*[${Helper_1.SUPPORTED_EXT.join(' | ')}]`;\n            vscode_1.workspace.findFiles(globFormat, '**/node_modules/**', 1)\n                .then((files) => __awaiter(this, void 0, void 0, function* () {\n                if (files && files.length)\n                    return resolve();\n            }));\n        });\n    }\n    openBrowser(port, path) {\n        const host = (Config_1.Config.getLocalIp ? __webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'ips'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()))().local : Config_1.Config.getHost) || '127.0.0.1';\n        const protocol = Config_1.Config.getHttps.enable ? 'https' : 'http';\n        let params = [];\n        let advanceCustomBrowserCmd = Config_1.Config.getAdvancedBrowserCmdline;\n        if (path.startsWith('\\\\') || path.startsWith('/')) {\n            path = path.substring(1, path.length);\n        }\n        path = path.replace(/\\\\/gi, '/');\n        if (advanceCustomBrowserCmd) {\n            advanceCustomBrowserCmd\n                .split('--')\n                .forEach((command, index) => {\n                if (command) {\n                    if (index !== 0)\n                        command = '--' + command;\n                    params.push(command.trim());\n                }\n            });\n        }\n        else {\n            let CustomBrowser = Config_1.Config.getCustomBrowser;\n            let ChromeDebuggingAttachmentEnable = Config_1.Config.getChromeDebuggingAttachment;\n            if (CustomBrowser && CustomBrowser !== 'null' /*For backward capability*/) {\n                let browserDetails = CustomBrowser.split(':');\n                let browserName = browserDetails[0];\n                params.push(browserName);\n                if (browserDetails[1] && browserDetails[1] === 'PrivateMode') {\n                    if (browserName === 'chrome' || browserName === 'blisk')\n                        params.push('--incognito');\n                    else if (browserName === 'firefox')\n                        params.push('--private-window');\n                }\n                if ((browserName === 'chrome' || browserName === 'blisk') && ChromeDebuggingAttachmentEnable) {\n                    params.push(...[\n                        '--new-window',\n                        '--no-default-browser-check',\n                        '--remote-debugging-port=9222',\n                        '--user-data-dir=' + __dirname\n                    ]);\n                }\n            }\n        }\n        if (params[0] && params[0] === 'chrome') {\n            switch (process.platform) {\n                case 'darwin':\n                    params[0] = 'google chrome';\n                    break;\n                case 'linux':\n                    params[0] = 'google-chrome';\n                    break;\n                case 'win32':\n                    params[0] = 'chrome';\n                    break;\n                default:\n                    params[0] = 'chrome';\n            }\n        }\n        else if (params[0] && params[0].startsWith('microsoft-edge')) {\n            params[0] = `microsoft-edge:${protocol}://${host}:${port}/${path}`;\n        }\n        try {\n            __webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'opn'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()))(`${protocol}://${host}:${port}/${path}`, { app: params || [''] });\n        }\n        catch (error) {\n            this.showPopUpMsg(`Server is started at ${host}:${this.runningPort} but failed to open browser. Try to change the CustomBrowser settings.`, true);\n            console.log('\\n\\nError Log to open Browser : ', error);\n            console.log('\\n\\n');\n        }\n    }\n    dispose() {\n        this.GoOffline();\n        StatusbarUi_1.StatusbarUi.dispose();\n        this.liveShareHelper.dispose();\n    }\n}\nexports.AppModel = AppModel;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b0JBQ0ksTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQzthQUU1QjtTQUNKO2FBQU0sSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFO1lBQzVELE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxrQkFBa0IsUUFBUSxNQUFNLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxFQUFFLENBQUM7U0FDdEU7UUFFRCxJQUFJO1lBQ0EsbUJBQU8sQ0FBQyxrSUFBSyxDQUFDLENBQUMsR0FBRyxRQUFRLE1BQU0sSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxNQUFNLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7U0FDcEY7UUFBQyxPQUFPLEtBQUssRUFBRTtZQUNaLElBQUksQ0FBQyxZQUFZLENBQUMsd0JBQXdCLElBQUksSUFBSSxJQUFJLENBQUMsV0FBVyx3RUFBd0UsRUFBRSxJQUFJLENBQUMsQ0FBQztZQUNsSixPQUFPLENBQUMsR0FBRyxDQUFDLGtDQUFrQyxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBQ3ZELE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDdkI7SUFDTCxDQUFDO0lBRU0sT0FBTztRQUNWLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNqQix5QkFBVyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ3RCLElBQUksQ0FBQyxlQUFlLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDbkMsQ0FBQztDQUNKO0FBclJELDRCQXFSQyIsInNvdXJjZXMiOlsiLi4vLi9zcmMvYXBwTW9kZWwudHMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBjb21tYW5kcywgd2luZG93LCB3b3Jrc3BhY2UsIEV2ZW50LCBFdmVudEVtaXR0ZXIgfSBmcm9tICd2c2NvZGUnO1xuXG5pbXBvcnQgeyBMaXZlU2VydmVySGVscGVyIH0gZnJvbSAnLi9MaXZlU2VydmVySGVscGVyJztcbmltcG9ydCB7IFN0YXR1c2JhclVpIH0gZnJvbSAnLi9TdGF0dXNiYXJVaSc7XG5pbXBvcnQgeyBDb25maWcgfSBmcm9tICcuL0NvbmZpZyc7XG5pbXBvcnQgeyBIZWxwZXIsIFNVUFBPUlRFRF9FWFQgfSBmcm9tICcuL0hlbHBlcic7XG5pbXBvcnQgeyB3b3Jrc3BhY2VSZXNvbHZlciwgc2V0T3JDaGFuZ2VXb3Jrc3BhY2UgfSBmcm9tICcuL3dvcmtzcGFjZVJlc29sdmVyJztcbmltcG9ydCB7IElBcHBNb2RlbCwgR29MaXZlRXZlbnQsIEdvT2ZmbGluZUV2ZW50IH0gZnJvbSAnLi9JQXBwTW9kZWwnO1xuaW1wb3J0IHsgTGl2ZVNoYXJlSGVscGVyIH0gZnJvbSAnLi9MaXZlU2hhcmVIZWxwZXInO1xuXG5leHBvcnQgY2xhc3MgQXBwTW9kZWwgaW1wbGVtZW50cyBJQXBwTW9kZWwge1xuXG4gICAgcHJpdmF0ZSBJc1NlcnZlclJ1bm5pbmc6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBpc1NlcnZlckJ1c3k6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBMaXZlU2VydmVySW5zdGFuY2U7XG4gICAgcHJpdmF0ZSBwcmV2aW91c1dvcmtzcGFjZVBhdGg6IHN0cmluZztcblxuICAgIHByaXZhdGUgcmVhZG9ubHkgZ29MaXZlRXZlbnQgPSBuZXcgRXZlbnRFbWl0dGVyPEdvTGl2ZUV2ZW50PigpO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgZ29PZmZsaW5lRXZlbnQgPSBuZXcgRXZlbnRFbWl0dGVyPEdvT2ZmbGluZUV2ZW50PigpO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgbGl2ZVNoYXJlSGVscGVyOiBMaXZlU2hhcmVIZWxwZXI7XG5cbiAgICBwdWJsaWMgcnVubmluZ1BvcnQ6IG51bWJlcjtcblxuICAgIHB1YmxpYyBnZXQgb25EaWRHb0xpdmUoKTogRXZlbnQ8R29MaXZlRXZlbnQ+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ29MaXZlRXZlbnQuZXZlbnQ7XG4gICAgfVxuICAgIHB1YmxpYyBnZXQgb25EaWRHb09mZmxpbmUoKTogRXZlbnQ8R29PZmZsaW5lRXZlbnQ+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ29PZmZsaW5lRXZlbnQuZXZlbnQ7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuSXNTZXJ2ZXJSdW5uaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMucnVubmluZ1BvcnQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMubGl2ZVNoYXJlSGVscGVyID0gbmV3IExpdmVTaGFyZUhlbHBlcih0aGlzKTtcblxuICAgICAgICBTdGF0dXNiYXJVaS5Jbml0KCk7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIEdvbGl2ZShwYXRoVXJpPzogc3RyaW5nKSB7XG5cbiAgICAgICAgLy8gaWYgbm8gZm9sZGVyIGlzIG9wZW5lZC5cbiAgICAgICAgaWYgKCF3b3Jrc3BhY2Uud29ya3NwYWNlRm9sZGVycykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hvd1BvcFVwTXNnKGBPcGVuIGEgZm9sZGVyIG9yIHdvcmtzcGFjZS4uLiAoRmlsZSAtPiBPcGVuIEZvbGRlcilgLCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghd29ya3NwYWNlLndvcmtzcGFjZUZvbGRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaG93UG9wVXBNc2coYFlvdSd2ZSBub3QgYWRkZWQgYW55IGZvbGRlciBpbiB0aGUgd29ya3NwYWNlYCwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB3b3Jrc3BhY2VQYXRoID0gYXdhaXQgd29ya3NwYWNlUmVzb2x2ZXIocGF0aFVyaSk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzQ29ycmVjdFdvcmtzcGFjZSh3b3Jrc3BhY2VQYXRoKSkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IG9wZW5lZERvY1VyaSA9IHBhdGhVcmkgfHwgKHdpbmRvdy5hY3RpdmVUZXh0RWRpdG9yID8gd2luZG93LmFjdGl2ZVRleHRFZGl0b3IuZG9jdW1lbnQuZmlsZU5hbWUgOiAnJyk7XG4gICAgICAgIGNvbnN0IHBhdGhJbmZvcyA9IEhlbHBlci50ZXN0UGF0aFdpdGhSb290KHdvcmtzcGFjZVBhdGgpO1xuXG4gICAgICAgIGlmICh0aGlzLklzU2VydmVyUnVubmluZykge1xuICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVQYXRoID0gSGVscGVyLmdldFN1YlBhdGgocGF0aEluZm9zLnJvb3RQYXRoLCBvcGVuZWREb2NVcmkpIHx8ICcnO1xuICAgICAgICAgICAgdGhpcy5nb0xpdmVFdmVudC5maXJlKHsgcnVubmluZ1BvcnQ6IHRoaXMucnVubmluZ1BvcnQsIHBhdGhVcmk6IHJlbGF0aXZlUGF0aCB9KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9wZW5Ccm93c2VyKFxuICAgICAgICAgICAgICAgIHRoaXMucnVubmluZ1BvcnQsXG4gICAgICAgICAgICAgICAgcmVsYXRpdmVQYXRoXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXRoSW5mb3MuaXNOb3RPa2F5KSB7XG4gICAgICAgICAgICB0aGlzLnNob3dQb3BVcE1zZygnSW52YWxpZCBQYXRoIGluIGxpdmVTZXJ2ZXIuc2V0dGluZ3Mucm9vdCBzZXR0aW5ncy4gbGl2ZSBTZXJ2ZXIgd2lsbCBzZXJ2ZSBmcm9tIHdvcmtzcGFjZSByb290JywgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pc1NlcnZlckJ1c3kpIHJldHVybjtcblxuICAgICAgICBsZXQgcGFyYW1zID0gSGVscGVyLmdlbmVyYXRlUGFyYW1zKHBhdGhJbmZvcy5yb290UGF0aCwgd29ya3NwYWNlUGF0aCwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50YWdNaXNzZWRDYWxsYmFjaygpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmlzU2VydmVyQnVzeSA9IHRydWU7XG4gICAgICAgIFN0YXR1c2JhclVpLldvcmtpbmcoJ1N0YXJ0aW5nLi4uJyk7XG5cbiAgICAgICAgTGl2ZVNlcnZlckhlbHBlci5TdGFydFNlcnZlcihwYXJhbXMsIGFzeW5jIChzZXJ2ZXJJbnN0YW5jZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc1NlcnZlckJ1c3kgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChzZXJ2ZXJJbnN0YW5jZSAmJiBzZXJ2ZXJJbnN0YW5jZS5hZGRyZXNzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5MaXZlU2VydmVySW5zdGFuY2UgPSBzZXJ2ZXJJbnN0YW5jZTtcbiAgICAgICAgICAgICAgICB0aGlzLnJ1bm5pbmdQb3J0ID0gc2VydmVySW5zdGFuY2UuYWRkcmVzcygpLnBvcnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5Ub2dnbGVTdGF0dXNCYXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dQb3BVcE1zZyhgU2VydmVyIGlzIFN0YXJ0ZWQgYXQgcG9ydCA6ICR7dGhpcy5ydW5uaW5nUG9ydH1gKTtcblxuICAgICAgICAgICAgICAgIGlmICghQ29uZmlnLmdldE5vQnJvd3Nlcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWxhdGl2ZVBhdGggPSBIZWxwZXIuZ2V0U3ViUGF0aChwYXRoSW5mb3Mucm9vdFBhdGgsIG9wZW5lZERvY1VyaSkgfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ29MaXZlRXZlbnQuZmlyZSh7IHJ1bm5pbmdQb3J0OiB0aGlzLnJ1bm5pbmdQb3J0LCBwYXRoVXJpOiByZWxhdGl2ZVBhdGggfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3BlbkJyb3dzZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJ1bm5pbmdQb3J0LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVQYXRoXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzZXJ2ZXJJbnN0YW5jZS5lcnJvck1zZykge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBDb25maWcuc2V0UG9ydChDb25maWcuZ2V0UG9ydCArIDEpOyAvLyArIDEgd2lsbCBiZSBmaW5lXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd1BvcFVwTXNnKGBUaGUgZGVmYXVsdCBwb3J0IDogJHtDb25maWcuZ2V0UG9ydCAtIDF9IGlzIGN1cnJlbnRseSB0YWtlbiwgY2hhbmdpbmcgcG9ydCB0byA6ICR7Q29uZmlnLmdldFBvcnR9LmApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLkdvbGl2ZShwYXRoVXJpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dQb3BVcE1zZyhgU29tZXRoaW5nIHdlbnQgd3JvbmchIFBsZWFzZSBjaGVjayBpbnRvIERldmVsb3BlciBDb25zb2xlIG9yIHJlcG9ydCBvbiBHaXRIdWIuYCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuSXNTZXJ2ZXJSdW5uaW5nID0gdHJ1ZTsgLy8gdG8gcmV2ZXJ0IHN0YXR1cyAtIGNoZWF0IDpwXG4gICAgICAgICAgICAgICAgdGhpcy5Ub2dnbGVTdGF0dXNCYXIoKTsgLy8gcmV2ZXJ0ZWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICBwdWJsaWMgR29PZmZsaW5lKCkge1xuICAgICAgICBpZiAodGhpcy5pc1NlcnZlckJ1c3kpIHJldHVybjtcbiAgICAgICAgaWYgKCF0aGlzLklzU2VydmVyUnVubmluZykge1xuICAgICAgICAgICAgdGhpcy5zaG93UG9wVXBNc2coYFNlcnZlciBpcyBub3QgYWxyZWFkeSBydW5uaW5nYCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nb09mZmxpbmVFdmVudC5maXJlKHsgcnVubmluZ1BvcnQ6IHRoaXMucnVubmluZ1BvcnQgfSk7XG4gICAgICAgIHRoaXMuaXNTZXJ2ZXJCdXN5ID0gdHJ1ZTtcbiAgICAgICAgU3RhdHVzYmFyVWkuV29ya2luZygnRGlzcG9zaW5nLi4uJyk7XG4gICAgICAgIExpdmVTZXJ2ZXJIZWxwZXIuU3RvcFNlcnZlcih0aGlzLkxpdmVTZXJ2ZXJJbnN0YW5jZSwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zaG93UG9wVXBNc2coJ1NlcnZlciBpcyBub3cgb2ZmbGluZS4nKTtcbiAgICAgICAgICAgIHRoaXMuaXNTZXJ2ZXJCdXN5ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLlRvZ2dsZVN0YXR1c0JhcigpO1xuICAgICAgICAgICAgdGhpcy5MaXZlU2VydmVySW5zdGFuY2UgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5ydW5uaW5nUG9ydCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzV29ya3NwYWNlUGF0aCA9IG51bGw7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNoYW5nZVdvcmtzcGFjZVJvb3QoKSB7XG4gICAgICAgIHNldE9yQ2hhbmdlV29ya3NwYWNlKClcbiAgICAgICAgICAgIC50aGVuKHdvcmtzcGFjZU5hbWUgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh3b3Jrc3BhY2VOYW1lID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2hvd0luZm9ybWF0aW9uTWVzc2FnZShgU3VjY2VzcyEgJyR7d29ya3NwYWNlTmFtZX0nIHdvcmtzcGFjZSBpcyBub3cgcm9vdCBvZiBMaXZlIFNlcnZlcmApO1xuICAgICAgICAgICAgICAgIC8vIElmIHNlcnZlciBpcyBydW5uaW5nLCBUdXJuIG9mZiB0aGUgc2VydmVyLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLklzU2VydmVyUnVubmluZylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5Hb09mZmxpbmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBpc0NvcnJlY3RXb3Jrc3BhY2Uod29ya3NwYWNlUGF0aDogc3RyaW5nKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXMuSXNTZXJ2ZXJSdW5uaW5nICYmXG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzV29ya3NwYWNlUGF0aCAmJlxuICAgICAgICAgICAgdGhpcy5wcmV2aW91c1dvcmtzcGFjZVBhdGggIT09IHdvcmtzcGFjZVBhdGhcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLnNob3dQb3BVcE1zZyhgU2VydmVyIGlzIGFscmVhZHkgcnVubmluZyBmcm9tIGRpZmZlcmVudCB3b3Jrc3BhY2UuYCwgdHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB0aGlzLnByZXZpb3VzV29ya3NwYWNlUGF0aCA9IHdvcmtzcGFjZVBhdGg7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgdGFnTWlzc2VkQ2FsbGJhY2soKSB7XG4gICAgICAgIHRoaXMuc2hvd1BvcFVwTXNnKCdMaXZlIFJlbG9hZCBpcyBub3QgcG9zc2libGUgd2l0aG91dCBhIGhlYWQgb3IgYm9keSB0YWcuJywgbnVsbCwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzaG93UG9wVXBNc2cobXNnOiBzdHJpbmcsIGlzRXJyb3JNc2c6IGJvb2xlYW4gPSBmYWxzZSwgaXNXYXJuaW5nOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKGlzRXJyb3JNc2cpIHtcbiAgICAgICAgICAgIHdpbmRvdy5zaG93RXJyb3JNZXNzYWdlKG1zZyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNXYXJuaW5nICYmICFDb25maWcuZ2V0RG9ub3RWZXJpZnlUYWdzKSB7XG4gICAgICAgICAgICBjb25zdCBkb25vdFNob3dNc2cgPSAnSSB1bmRlcnN0YW5kLCBEb25cXCd0IHNob3cgYWdhaW4nO1xuICAgICAgICAgICAgd2luZG93LnNob3dXYXJuaW5nTWVzc2FnZShtc2csIGRvbm90U2hvd01zZylcbiAgICAgICAgICAgICAgICAudGhlbihjaG9pY2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hvaWNlICYmIGNob2ljZSA9PT0gZG9ub3RTaG93TXNnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBDb25maWcuc2V0RG9ub3RWZXJpZnlUYWdzKHRydWUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIUNvbmZpZy5nZXREb25vdFNob3dJbmZvTXNnKSB7XG4gICAgICAgICAgICBjb25zdCBkb25vdFNob3dNc2cgPSAnRG9uXFwndCBzaG93IGFnYWluJztcbiAgICAgICAgICAgIHdpbmRvdy5zaG93SW5mb3JtYXRpb25NZXNzYWdlKG1zZywgZG9ub3RTaG93TXNnKVxuICAgICAgICAgICAgICAgIC50aGVuKGNob2ljZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaG9pY2UgJiYgY2hvaWNlID09PSBkb25vdFNob3dNc2cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIENvbmZpZy5zZXREb25vdFNob3dJbmZvTXNnKHRydWUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBUb2dnbGVTdGF0dXNCYXIoKSB7XG4gICAgICAgIGlmICghdGhpcy5Jc1NlcnZlclJ1bm5pbmcpIHtcbiAgICAgICAgICAgIFN0YXR1c2JhclVpLk9mZmxpbmUodGhpcy5ydW5uaW5nUG9ydCB8fCBDb25maWcuZ2V0UG9ydCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBTdGF0dXNiYXJVaS5MaXZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLklzU2VydmVyUnVubmluZyA9ICF0aGlzLklzU2VydmVyUnVubmluZztcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhdmVBbnlTdXBwb3J0ZWRGaWxlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4ocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBnbG9iRm9ybWF0ID0gYCoqLypbJHtTVVBQT1JURURfRVhULmpvaW4oJyB8ICcpfV1gO1xuICAgICAgICAgICAgd29ya3NwYWNlLmZpbmRGaWxlcyhnbG9iRm9ybWF0LCAnKiovbm9kZV9tb2R1bGVzLyoqJywgMSlcbiAgICAgICAgICAgICAgICAudGhlbihhc3luYyAoZmlsZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVzICYmIGZpbGVzLmxlbmd0aCkgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvcGVuQnJvd3Nlcihwb3J0OiBudW1iZXIsIHBhdGg6IHN0cmluZykge1xuICAgICAgICBjb25zdCBob3N0ID0gKENvbmZpZy5nZXRMb2NhbElwID8gcmVxdWlyZSgnaXBzJykoKS5sb2NhbCA6IENvbmZpZy5nZXRIb3N0KSB8fCAnMTI3LjAuMC4xJztcbiAgICAgICAgY29uc3QgcHJvdG9jb2wgPSBDb25maWcuZ2V0SHR0cHMuZW5hYmxlID8gJ2h0dHBzJyA6ICdodHRwJztcblxuICAgICAgICBsZXQgcGFyYW1zOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICBsZXQgYWR2YW5jZUN1c3RvbUJyb3dzZXJDbWQgPSBDb25maWcuZ2V0QWR2YW5jZWRCcm93c2VyQ21kbGluZTtcbiAgICAgICAgaWYgKHBhdGguc3RhcnRzV2l0aCgnXFxcXCcpIHx8IHBhdGguc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgICBwYXRoID0gcGF0aC5zdWJzdHJpbmcoMSwgcGF0aC5sZW5ndGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXFxcXC9naSwgJy8nKTtcblxuICAgICAgICBpZiAoYWR2YW5jZUN1c3RvbUJyb3dzZXJDbWQpIHtcbiAgICAgICAgICAgIGFkdmFuY2VDdXN0b21Ccm93c2VyQ21kXG4gICAgICAgICAgICAgICAgLnNwbGl0KCctLScpXG4gICAgICAgICAgICAgICAgLmZvckVhY2goKGNvbW1hbmQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21tYW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT09IDApIGNvbW1hbmQgPSAnLS0nICsgY29tbWFuZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcy5wdXNoKGNvbW1hbmQudHJpbSgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IEN1c3RvbUJyb3dzZXIgPSBDb25maWcuZ2V0Q3VzdG9tQnJvd3NlcjtcbiAgICAgICAgICAgIGxldCBDaHJvbWVEZWJ1Z2dpbmdBdHRhY2htZW50RW5hYmxlID0gQ29uZmlnLmdldENocm9tZURlYnVnZ2luZ0F0dGFjaG1lbnQ7XG5cbiAgICAgICAgICAgIGlmIChDdXN0b21Ccm93c2VyICYmIEN1c3RvbUJyb3dzZXIgIT09ICdudWxsJyAvKkZvciBiYWNrd2FyZCBjYXBhYmlsaXR5Ki8pIHtcbiAgICAgICAgICAgICAgICBsZXQgYnJvd3NlckRldGFpbHMgPSBDdXN0b21Ccm93c2VyLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICAgICAgbGV0IGJyb3dzZXJOYW1lID0gYnJvd3NlckRldGFpbHNbMF07XG4gICAgICAgICAgICAgICAgcGFyYW1zLnB1c2goYnJvd3Nlck5hbWUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGJyb3dzZXJEZXRhaWxzWzFdICYmIGJyb3dzZXJEZXRhaWxzWzFdID09PSAnUHJpdmF0ZU1vZGUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChicm93c2VyTmFtZSA9PT0gJ2Nocm9tZScgfHwgYnJvd3Nlck5hbWUgPT09ICdibGlzaycpXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMucHVzaCgnLS1pbmNvZ25pdG8nKTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYnJvd3Nlck5hbWUgPT09ICdmaXJlZm94JylcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcy5wdXNoKCctLXByaXZhdGUtd2luZG93Jyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKChicm93c2VyTmFtZSA9PT0gJ2Nocm9tZScgfHwgYnJvd3Nlck5hbWUgPT09ICdibGlzaycpICYmIENocm9tZURlYnVnZ2luZ0F0dGFjaG1lbnRFbmFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLnB1c2goLi4uW1xuICAgICAgICAgICAgICAgICAgICAgICAgJy0tbmV3LXdpbmRvdycsXG4gICAgICAgICAgICAgICAgICAgICAgICAnLS1uby1kZWZhdWx0LWJyb3dzZXItY2hlY2snLFxuICAgICAgICAgICAgICAgICAgICAgICAgJy0tcmVtb3RlLWRlYnVnZ2luZy1wb3J0PTkyMjInLFxuICAgICAgICAgICAgICAgICAgICAgICAgJy0tdXNlci1kYXRhLWRpcj0nICsgX19kaXJuYW1lXG4gICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJhbXNbMF0gJiYgcGFyYW1zWzBdID09PSAnY2hyb21lJykge1xuICAgICAgICAgICAgc3dpdGNoIChwcm9jZXNzLnBsYXRmb3JtKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnZGFyd2luJzpcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zWzBdID0gJ2dvb2dsZSBjaHJvbWUnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdsaW51eCc6XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtc1swXSA9ICdnb29nbGUtY2hyb21lJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnd2luMzInOlxuICAgICAgICAgICAgICAgICAgICBwYXJhbXNbMF0gPSAnY2hyb21lJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zWzBdID0gJ2Nocm9tZSc7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChwYXJhbXNbMF0gJiYgcGFyYW1zWzBdLnN0YXJ0c1dpdGgoJ21pY3Jvc29mdC1lZGdlJykpIHtcbiAgICAgICAgICAgIHBhcmFtc1swXSA9IGBtaWNyb3NvZnQtZWRnZToke3Byb3RvY29sfTovLyR7aG9zdH06JHtwb3J0fS8ke3BhdGh9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXF1aXJlKCdvcG4nKShgJHtwcm90b2NvbH06Ly8ke2hvc3R9OiR7cG9ydH0vJHtwYXRofWAsIHsgYXBwOiBwYXJhbXMgfHwgWycnXSB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd1BvcFVwTXNnKGBTZXJ2ZXIgaXMgc3RhcnRlZCBhdCAke2hvc3R9OiR7dGhpcy5ydW5uaW5nUG9ydH0gYnV0IGZhaWxlZCB0byBvcGVuIGJyb3dzZXIuIFRyeSB0byBjaGFuZ2UgdGhlIEN1c3RvbUJyb3dzZXIgc2V0dGluZ3MuYCwgdHJ1ZSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnXFxuXFxuRXJyb3IgTG9nIHRvIG9wZW4gQnJvd3NlciA6ICcsIGVycm9yKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdcXG5cXG4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLkdvT2ZmbGluZSgpO1xuICAgICAgICBTdGF0dXNiYXJVaS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMubGl2ZVNoYXJlSGVscGVyLmRpc3Bvc2UoKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/appModel.ts\n\n}");

/***/ }),

/***/ "./src/commandManager.ts":
/*!*******************************!*\
  !*** ./src/commandManager.ts ***!
  \*******************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("{\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CommandManager = void 0;\nconst vscode_1 = __webpack_require__(/*! vscode */ \"vscode\");\nclass CommandManager {\n    constructor(appModel, webviewProvider, statusBarManager) {\n        this.appModel = appModel;\n        this.webviewProvider = webviewProvider;\n        this.statusBarManager = statusBarManager;\n    }\n    static getInstance(appModel, webviewProvider, statusBarManager) {\n        if (!CommandManager.instance) {\n            CommandManager.instance = new CommandManager(appModel, webviewProvider, statusBarManager);\n        }\n        return CommandManager.instance;\n    }\n    registerCommands(context) {\n        console.log('Inline Live Server: Starting command registration process...');\n        // Array to hold all command registrations for proper disposal\n        const commandRegistrations = [];\n        try {\n            // Start Inline Live Server\n            console.log('Inline Live Server: Registering extension.liveServer.goOnline');\n            const startCommand = vscode_1.commands.registerCommand('extension.liveServer.goOnline', (fileUri) => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    console.log('Inline Live Server: goOnline command executed', fileUri ? fileUri.fsPath : 'no file');\n                    yield vscode_1.workspace.saveAll();\n                    if (!this.appModel.runningPort) {\n                        this.appModel.Golive(fileUri ? fileUri.fsPath : null);\n                    }\n                    this.webviewProvider.showWebviewPanel();\n                    this.statusBarManager.updateServerState(this.statusBarManager['ServerState'].STARTING);\n                }\n                catch (error) {\n                    this.handleCommandError('start', error);\n                }\n            }));\n            commandRegistrations.push(startCommand);\n            // Stop Inline Live Server\n            console.log('Inline Live Server: Registering extension.liveServer.goOffline');\n            const stopCommand = vscode_1.commands.registerCommand('extension.liveServer.goOffline', () => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    console.log('Inline Live Server: goOffline command executed');\n                    this.appModel.GoOffline();\n                    this.statusBarManager.updateServerState(this.statusBarManager['ServerState'].STOPPED);\n                    vscode_1.window.showInformationMessage('Inline Live Server stopped successfully');\n                }\n                catch (error) {\n                    this.handleCommandError('stop', error);\n                }\n            }));\n            commandRegistrations.push(stopCommand);\n            // Change Workspace\n            console.log('Inline Live Server: Registering extension.liveServer.changeWorkspace');\n            const changeWorkspaceCommand = vscode_1.commands.registerCommand('extension.liveServer.changeWorkspace', () => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    console.log('Inline Live Server: changeWorkspace command executed');\n                    const workspaces = vscode_1.workspace.workspaceFolders;\n                    if (!workspaces || workspaces.length === 0) {\n                        vscode_1.window.showWarningMessage('No workspace folders available');\n                        return;\n                    }\n                    const items = workspaces.map(ws => ({\n                        label: ws.name,\n                        description: ws.uri.fsPath,\n                        detail: ws.uri.fsPath\n                    }));\n                    const selectedWorkspace = yield vscode_1.window.showQuickPick(items, {\n                        placeHolder: 'Select workspace to change to'\n                    });\n                    if (selectedWorkspace) {\n                        vscode_1.window.showInformationMessage(`Switched to workspace: ${selectedWorkspace.label}`);\n                    }\n                }\n                catch (error) {\n                    this.handleCommandError('changeWorkspace', error);\n                }\n            }));\n            commandRegistrations.push(changeWorkspaceCommand);\n            // Save Navigation State\n            console.log('Inline Live Server: Registering extension.liveServer.saveState');\n            const saveStateCommand = vscode_1.commands.registerCommand('extension.liveServer.saveState', () => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    console.log('Inline Live Server: saveState command executed');\n                    if (this.webviewProvider['panel'] && this.webviewProvider['isPanelVisible']) {\n                        this.webviewProvider['panel'].webview.postMessage({\n                            command: 'saveNavigationState'\n                        });\n                        vscode_1.window.showInformationMessage('Navigation state saved');\n                    }\n                    else {\n                        vscode_1.window.showWarningMessage('Webview panel is not open');\n                    }\n                }\n                catch (error) {\n                    this.handleCommandError('saveState', error);\n                }\n            }));\n            commandRegistrations.push(saveStateCommand);\n            // Load Navigation State\n            console.log('Inline Live Server: Registering extension.liveServer.loadState');\n            const loadStateCommand = vscode_1.commands.registerCommand('extension.liveServer.loadState', () => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    console.log('Inline Live Server: loadState command executed');\n                    if (this.webviewProvider['panel'] && this.webviewProvider['isPanelVisible']) {\n                        this.webviewProvider['panel'].webview.postMessage({\n                            command: 'loadNavigationState'\n                        });\n                        vscode_1.window.showInformationMessage('Navigation state loaded');\n                    }\n                    else {\n                        vscode_1.window.showWarningMessage('Webview panel is not open');\n                    }\n                }\n                catch (error) {\n                    this.handleCommandError('loadState', error);\n                }\n            }));\n            commandRegistrations.push(loadStateCommand);\n            // Start Webview (basic implementation)\n            console.log('Inline Live Server: Registering extension.liveServer.startWebview');\n            const startWebviewCommand = vscode_1.commands.registerCommand('extension.liveServer.startWebview', () => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    console.log('Inline Live Server: startWebview command executed');\n                    if (!this.appModel.runningPort) {\n                        vscode_1.window.showWarningMessage('Inline Live Server server is not running. Start it first.');\n                        return;\n                    }\n                    // Show the webview panel\n                    this.webviewProvider.showWebviewPanel();\n                    vscode_1.window.showInformationMessage('Inline Live Server webview opened');\n                }\n                catch (error) {\n                    this.handleCommandError('startWebview', error);\n                }\n            }));\n            commandRegistrations.push(startWebviewCommand);\n            // Navigate Home\n            console.log('Inline Live Server: Registering extension.liveServer.navigateHome');\n            const navigateHomeCommand = vscode_1.commands.registerCommand('extension.liveServer.navigateHome', () => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    console.log('Inline Live Server: navigateHome command executed');\n                    if (this.webviewProvider['panel'] && this.webviewProvider['isPanelVisible']) {\n                        this.webviewProvider['panel'].webview.postMessage({\n                            command: 'navigateHome'\n                        });\n                        vscode_1.window.showInformationMessage('Navigated to home page');\n                    }\n                    else {\n                        vscode_1.window.showWarningMessage('Webview panel is not open');\n                    }\n                }\n                catch (error) {\n                    this.handleCommandError('navigateHome', error);\n                }\n            }));\n            commandRegistrations.push(navigateHomeCommand);\n            // Zoom In\n            console.log('Inline Live Server: Registering extension.liveServer.zoomIn');\n            const zoomInCommand = vscode_1.commands.registerCommand('extension.liveServer.zoomIn', () => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    console.log('Inline Live Server: zoomIn command executed');\n                    if (this.webviewProvider['panel'] && this.webviewProvider['isPanelVisible']) {\n                        this.webviewProvider['panel'].webview.postMessage({\n                            command: 'zoomIn'\n                        });\n                        vscode_1.window.showInformationMessage('Zoomed in');\n                    }\n                    else {\n                        vscode_1.window.showWarningMessage('Webview panel is not open');\n                    }\n                }\n                catch (error) {\n                    this.handleCommandError('zoomIn', error);\n                }\n            }));\n            commandRegistrations.push(zoomInCommand);\n            // Zoom Out\n            console.log('Inline Live Server: Registering extension.liveServer.zoomOut');\n            const zoomOutCommand = vscode_1.commands.registerCommand('extension.liveServer.zoomOut', () => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    console.log('Inline Live Server: zoomOut command executed');\n                    if (this.webviewProvider['panel'] && this.webviewProvider['isPanelVisible']) {\n                        this.webviewProvider['panel'].webview.postMessage({\n                            command: 'zoomOut'\n                        });\n                        vscode_1.window.showInformationMessage('Zoomed out');\n                    }\n                    else {\n                        vscode_1.window.showWarningMessage('Webview panel is not open');\n                    }\n                }\n                catch (error) {\n                    this.handleCommandError('zoomOut', error);\n                }\n            }));\n            commandRegistrations.push(zoomOutCommand);\n            // Reset Zoom\n            console.log('Inline Live Server: Registering extension.liveServer.resetZoom');\n            const resetZoomCommand = vscode_1.commands.registerCommand('extension.liveServer.resetZoom', () => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    console.log('Inline Live Server: resetZoom command executed');\n                    if (this.webviewProvider['panel'] && this.webviewProvider['isPanelVisible']) {\n                        this.webviewProvider['panel'].webview.postMessage({\n                            command: 'resetZoom'\n                        });\n                        vscode_1.window.showInformationMessage('Zoom reset to 100%');\n                    }\n                    else {\n                        vscode_1.window.showWarningMessage('Webview panel is not open');\n                    }\n                }\n                catch (error) {\n                    this.handleCommandError('resetZoom', error);\n                }\n            }));\n            commandRegistrations.push(resetZoomCommand);\n            // Toggle Split View\n            console.log('Inline Live Server: Registering extension.liveServer.toggleSplitView');\n            const toggleSplitViewCommand = vscode_1.commands.registerCommand('extension.liveServer.toggleSplitView', () => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    console.log('Inline Live Server: toggleSplitView command executed');\n                    if (this.webviewProvider['panel'] && this.webviewProvider['isPanelVisible']) {\n                        this.webviewProvider['panel'].webview.postMessage({\n                            command: 'toggleSplitView'\n                        });\n                        vscode_1.window.showInformationMessage('Toggled split view');\n                    }\n                    else {\n                        vscode_1.window.showWarningMessage('Webview panel is not open');\n                    }\n                }\n                catch (error) {\n                    this.handleCommandError('toggleSplitView', error);\n                }\n            }));\n            commandRegistrations.push(toggleSplitViewCommand);\n            // Toggle Full Screen\n            console.log('Inline Live Server: Registering extension.liveServer.toggleFullScreen');\n            const toggleFullScreenCommand = vscode_1.commands.registerCommand('extension.liveServer.toggleFullScreen', () => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    console.log('Inline Live Server: toggleFullScreen command executed');\n                    if (this.webviewProvider['panel'] && this.webviewProvider['isPanelVisible']) {\n                        this.webviewProvider['panel'].webview.postMessage({\n                            command: 'toggleFullScreen'\n                        });\n                        vscode_1.window.showInformationMessage('Toggled full screen');\n                    }\n                    else {\n                        vscode_1.window.showWarningMessage('Webview panel is not open');\n                    }\n                }\n                catch (error) {\n                    this.handleCommandError('toggleFullScreen', error);\n                }\n            }));\n            commandRegistrations.push(toggleFullScreenCommand);\n            // Open Developer Tools\n            console.log('Inline Live Server: Registering extension.liveServer.openDevTools');\n            const openDevToolsCommand = vscode_1.commands.registerCommand('extension.liveServer.openDevTools', () => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    console.log('Inline Live Server: openDevTools command executed');\n                    if (this.webviewProvider['panel'] && this.webviewProvider['isPanelVisible']) {\n                        this.webviewProvider['panel'].webview.postMessage({\n                            command: 'openDevTools'\n                        });\n                        vscode_1.window.showInformationMessage('Developer tools opened');\n                    }\n                    else {\n                        vscode_1.window.showWarningMessage('Webview panel is not open');\n                    }\n                }\n                catch (error) {\n                    this.handleCommandError('openDevTools', error);\n                }\n            }));\n            commandRegistrations.push(openDevToolsCommand);\n            // Inspect Element\n            console.log('Inline Live Server: Registering extension.liveServer.inspectElement');\n            const inspectElementCommand = vscode_1.commands.registerCommand('extension.liveServer.inspectElement', () => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    console.log('Inline Live Server: inspectElement command executed');\n                    if (this.webviewProvider['panel'] && this.webviewProvider['isPanelVisible']) {\n                        this.webviewProvider['panel'].webview.postMessage({\n                            command: 'inspectElement'\n                        });\n                        vscode_1.window.showInformationMessage('Element inspection enabled');\n                    }\n                    else {\n                        vscode_1.window.showWarningMessage('Webview panel is not open');\n                    }\n                }\n                catch (error) {\n                    this.handleCommandError('inspectElement', error);\n                }\n            }));\n            commandRegistrations.push(inspectElementCommand);\n            // View Source\n            console.log('Inline Live Server: Registering extension.liveServer.viewSource');\n            const viewSourceCommand = vscode_1.commands.registerCommand('extension.liveServer.viewSource', () => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    console.log('Inline Live Server: viewSource command executed');\n                    if (this.webviewProvider['panel'] && this.webviewProvider['isPanelVisible']) {\n                        this.webviewProvider['panel'].webview.postMessage({\n                            command: 'viewSource'\n                        });\n                        vscode_1.window.showInformationMessage('Source view opened');\n                    }\n                    else {\n                        vscode_1.window.showWarningMessage('Webview panel is not open');\n                    }\n                }\n                catch (error) {\n                    this.handleCommandError('viewSource', error);\n                }\n            }));\n            commandRegistrations.push(viewSourceCommand);\n            // Clear Navigation History\n            console.log('Inline Live Server: Registering extension.liveServer.clearHistory');\n            const clearHistoryCommand = vscode_1.commands.registerCommand('extension.liveServer.clearHistory', () => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    console.log('Inline Live Server: clearHistory command executed');\n                    if (this.webviewProvider['panel'] && this.webviewProvider['isPanelVisible']) {\n                        this.webviewProvider['panel'].webview.postMessage({\n                            command: 'clearHistory'\n                        });\n                        vscode_1.window.showInformationMessage('Navigation history cleared');\n                    }\n                    else {\n                        vscode_1.window.showWarningMessage('Webview panel is not open');\n                    }\n                }\n                catch (error) {\n                    this.handleCommandError('clearHistory', error);\n                }\n            }));\n            commandRegistrations.push(clearHistoryCommand);\n            // Register all commands with context\n            context.subscriptions.push(...commandRegistrations);\n            console.log(`Inline Live Server: Successfully registered ${commandRegistrations.length} commands`);\n        }\n        catch (error) {\n            console.error('Inline Live Server: Error during command registration:', error);\n            this.handleCommandError('commandRegistration', error);\n        }\n    }\n    handleCommandError(commandName, error) {\n        const message = `Inline Live Server command '${commandName}' failed: ${error.message}`;\n        vscode_1.window.showErrorMessage(message);\n        console.error(`Inline Live Server ${commandName} error:`, error);\n    }\n    updateCommandStates() {\n        // Update command enablement based on server state\n        const isRunning = this.appModel.runningPort !== null;\n        // Note: In VS Code, command enablement is typically handled through\n        // package.json \"when\" clauses or programmatically through menus API\n        // For now, we'll handle this through user feedback in the commands themselves\n    }\n}\nexports.CommandManager = CommandManager;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxDQUFDO1lBQ3BELE9BQU8sQ0FBQyxHQUFHLENBQUMsNkNBQTZDLG9CQUFvQixDQUFDLE1BQU0sV0FBVyxDQUFDLENBQUM7U0FFcEc7UUFBQyxPQUFPLEtBQUssRUFBRTtZQUNaLE9BQU8sQ0FBQyxLQUFLLENBQUMsc0RBQXNELEVBQUUsS0FBSyxDQUFDLENBQUM7WUFDN0UsSUFBSSxDQUFDLGtCQUFrQixDQUFDLHFCQUFxQixFQUFFLEtBQUssQ0FBQyxDQUFDO1NBQ3pEO0lBQ0wsQ0FBQztJQUVPLGtCQUFrQixDQUFDLFdBQW1CLEVBQUUsS0FBVTtRQUN0RCxNQUFNLE9BQU8sR0FBRyw2QkFBNkIsV0FBVyxhQUFhLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNyRixlQUFNLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDakMsT0FBTyxDQUFDLEtBQUssQ0FBQyxvQkFBb0IsV0FBVyxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDbkUsQ0FBQztJQUVNLG1CQUFtQjtRQUN0QixrREFBa0Q7UUFDbEQsTUFBTSxTQUFTLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLEtBQUssSUFBSSxDQUFDO1FBRXJELG9FQUFvRTtRQUNwRSxvRUFBb0U7UUFDcEUsOEVBQThFO0lBQ2xGLENBQUM7Q0FDSjtBQXRXRCx3Q0FzV0MiLCJzb3VyY2VzIjpbIi4uLy4vc3JjL2NvbW1hbmRNYW5hZ2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbW1hbmRzLCB3aW5kb3csIHdvcmtzcGFjZSwgVXJpLCBRdWlja1BpY2tJdGVtIH0gZnJvbSAndnNjb2RlJztcbmltcG9ydCB7IEFwcE1vZGVsIH0gZnJvbSAnLi9hcHBNb2RlbCc7XG5pbXBvcnQgeyBXZWJ2aWV3UGFuZWxQcm92aWRlciB9IGZyb20gJy4vd2Vidmlld1BhbmVsUHJvdmlkZXInO1xuaW1wb3J0IHsgU3RhdHVzQmFyTWFuYWdlciB9IGZyb20gJy4vc3RhdHVzQmFyTWFuYWdlcic7XG5cbmV4cG9ydCBjbGFzcyBDb21tYW5kTWFuYWdlciB7XG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IENvbW1hbmRNYW5hZ2VyO1xuICAgIHByaXZhdGUgYXBwTW9kZWw6IEFwcE1vZGVsO1xuICAgIHByaXZhdGUgd2Vidmlld1Byb3ZpZGVyOiBXZWJ2aWV3UGFuZWxQcm92aWRlcjtcbiAgICBwcml2YXRlIHN0YXR1c0Jhck1hbmFnZXI6IFN0YXR1c0Jhck1hbmFnZXI7XG5cbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKGFwcE1vZGVsOiBBcHBNb2RlbCwgd2Vidmlld1Byb3ZpZGVyOiBXZWJ2aWV3UGFuZWxQcm92aWRlciwgc3RhdHVzQmFyTWFuYWdlcjogU3RhdHVzQmFyTWFuYWdlcikge1xuICAgICAgICB0aGlzLmFwcE1vZGVsID0gYXBwTW9kZWw7XG4gICAgICAgIHRoaXMud2Vidmlld1Byb3ZpZGVyID0gd2Vidmlld1Byb3ZpZGVyO1xuICAgICAgICB0aGlzLnN0YXR1c0Jhck1hbmFnZXIgPSBzdGF0dXNCYXJNYW5hZ2VyO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoYXBwTW9kZWw6IEFwcE1vZGVsLCB3ZWJ2aWV3UHJvdmlkZXI6IFdlYnZpZXdQYW5lbFByb3ZpZGVyLCBzdGF0dXNCYXJNYW5hZ2VyOiBTdGF0dXNCYXJNYW5hZ2VyKTogQ29tbWFuZE1hbmFnZXIge1xuICAgICAgICBpZiAoIUNvbW1hbmRNYW5hZ2VyLmluc3RhbmNlKSB7XG4gICAgICAgICAgICBDb21tYW5kTWFuYWdlci5pbnN0YW5jZSA9IG5ldyBDb21tYW5kTWFuYWdlcihhcHBNb2RlbCwgd2Vidmlld1Byb3ZpZGVyLCBzdGF0dXNCYXJNYW5hZ2VyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQ29tbWFuZE1hbmFnZXIuaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgcHVibGljIHJlZ2lzdGVyQ29tbWFuZHMoY29udGV4dDogYW55KTogdm9pZCB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdUQlggTGl2ZSBQcmV2aWV3OiBTdGFydGluZyBjb21tYW5kIHJlZ2lzdHJhdGlvbiBwcm9jZXNzLi4uJyk7XG5cbiAgICAgICAgLy8gQXJyYXkgdG8gaG9sZCBhbGwgY29tbWFuZCByZWdpc3RyYXRpb25zIGZvciBwcm9wZXIgZGlzcG9zYWxcbiAgICAgICAgY29uc3QgY29tbWFuZFJlZ2lzdHJhdGlvbnM6IGFueVtdID0gW107XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFN0YXJ0IFRCWCBMaXZlIFByZXZpZXdcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUQlggTGl2ZSBQcmV2aWV3OiBSZWdpc3RlcmluZyBleHRlbnNpb24ubGl2ZVNlcnZlci5nb09ubGluZScpO1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRDb21tYW5kID0gY29tbWFuZHMucmVnaXN0ZXJDb21tYW5kKCdleHRlbnNpb24ubGl2ZVNlcnZlci5nb09ubGluZScsIGFzeW5jIChmaWxlVXJpPzogVXJpKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1RCWCBMaXZlIFByZXZpZXc6IGdvT25saW5lIGNvbW1hbmQgZXhlY3V0ZWQnLCBmaWxlVXJpID8gZmlsZVVyaS5mc1BhdGggOiAnbm8gZmlsZScpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB3b3Jrc3BhY2Uuc2F2ZUFsbCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuYXBwTW9kZWwucnVubmluZ1BvcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwTW9kZWwuR29saXZlKGZpbGVVcmkgPyBmaWxlVXJpLmZzUGF0aCA6IG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2Vidmlld1Byb3ZpZGVyLnNob3dXZWJ2aWV3UGFuZWwoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0dXNCYXJNYW5hZ2VyLnVwZGF0ZVNlcnZlclN0YXRlKHRoaXMuc3RhdHVzQmFyTWFuYWdlclsnU2VydmVyU3RhdGUnXS5TVEFSVElORyk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDb21tYW5kRXJyb3IoJ3N0YXJ0JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29tbWFuZFJlZ2lzdHJhdGlvbnMucHVzaChzdGFydENvbW1hbmQpO1xuXG4gICAgICAgICAgICAvLyBTdG9wIFRCWCBMaXZlIFByZXZpZXdcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUQlggTGl2ZSBQcmV2aWV3OiBSZWdpc3RlcmluZyBleHRlbnNpb24ubGl2ZVNlcnZlci5nb09mZmxpbmUnKTtcbiAgICAgICAgICAgIGNvbnN0IHN0b3BDb21tYW5kID0gY29tbWFuZHMucmVnaXN0ZXJDb21tYW5kKCdleHRlbnNpb24ubGl2ZVNlcnZlci5nb09mZmxpbmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1RCWCBMaXZlIFByZXZpZXc6IGdvT2ZmbGluZSBjb21tYW5kIGV4ZWN1dGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwTW9kZWwuR29PZmZsaW5lKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzQmFyTWFuYWdlci51cGRhdGVTZXJ2ZXJTdGF0ZSh0aGlzLnN0YXR1c0Jhck1hbmFnZXJbJ1NlcnZlclN0YXRlJ10uU1RPUFBFRCk7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zaG93SW5mb3JtYXRpb25NZXNzYWdlKCdUQlggTGl2ZSBQcmV2aWV3IHN0b3BwZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDb21tYW5kRXJyb3IoJ3N0b3AnLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb21tYW5kUmVnaXN0cmF0aW9ucy5wdXNoKHN0b3BDb21tYW5kKTtcblxuICAgICAgICAgICAgLy8gQ2hhbmdlIFdvcmtzcGFjZVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1RCWCBMaXZlIFByZXZpZXc6IFJlZ2lzdGVyaW5nIGV4dGVuc2lvbi5saXZlU2VydmVyLmNoYW5nZVdvcmtzcGFjZScpO1xuICAgICAgICAgICAgY29uc3QgY2hhbmdlV29ya3NwYWNlQ29tbWFuZCA9IGNvbW1hbmRzLnJlZ2lzdGVyQ29tbWFuZCgnZXh0ZW5zaW9uLmxpdmVTZXJ2ZXIuY2hhbmdlV29ya3NwYWNlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUQlggTGl2ZSBQcmV2aWV3OiBjaGFuZ2VXb3Jrc3BhY2UgY29tbWFuZCBleGVjdXRlZCcpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB3b3Jrc3BhY2VzID0gd29ya3NwYWNlLndvcmtzcGFjZUZvbGRlcnM7XG4gICAgICAgICAgICAgICAgICAgIGlmICghd29ya3NwYWNlcyB8fCB3b3Jrc3BhY2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnNob3dXYXJuaW5nTWVzc2FnZSgnTm8gd29ya3NwYWNlIGZvbGRlcnMgYXZhaWxhYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IHdvcmtzcGFjZXMubWFwKHdzID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogd3MubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB3cy51cmkuZnNQYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsOiB3cy51cmkuZnNQYXRoXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZFdvcmtzcGFjZSA9IGF3YWl0IHdpbmRvdy5zaG93UXVpY2tQaWNrKGl0ZW1zLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZUhvbGRlcjogJ1NlbGVjdCB3b3Jrc3BhY2UgdG8gY2hhbmdlIHRvJ1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRXb3Jrc3BhY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zaG93SW5mb3JtYXRpb25NZXNzYWdlKGBTd2l0Y2hlZCB0byB3b3Jrc3BhY2U6ICR7c2VsZWN0ZWRXb3Jrc3BhY2UubGFiZWx9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUNvbW1hbmRFcnJvcignY2hhbmdlV29ya3NwYWNlJywgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29tbWFuZFJlZ2lzdHJhdGlvbnMucHVzaChjaGFuZ2VXb3Jrc3BhY2VDb21tYW5kKTtcblxuICAgICAgICAgICAgLy8gU2F2ZSBOYXZpZ2F0aW9uIFN0YXRlXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVEJYIExpdmUgUHJldmlldzogUmVnaXN0ZXJpbmcgZXh0ZW5zaW9uLmxpdmVTZXJ2ZXIuc2F2ZVN0YXRlJyk7XG4gICAgICAgICAgICBjb25zdCBzYXZlU3RhdGVDb21tYW5kID0gY29tbWFuZHMucmVnaXN0ZXJDb21tYW5kKCdleHRlbnNpb24ubGl2ZVNlcnZlci5zYXZlU3RhdGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1RCWCBMaXZlIFByZXZpZXc6IHNhdmVTdGF0ZSBjb21tYW5kIGV4ZWN1dGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndlYnZpZXdQcm92aWRlclsncGFuZWwnXSAmJiB0aGlzLndlYnZpZXdQcm92aWRlclsnaXNQYW5lbFZpc2libGUnXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53ZWJ2aWV3UHJvdmlkZXJbJ3BhbmVsJ10ud2Vidmlldy5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZDogJ3NhdmVOYXZpZ2F0aW9uU3RhdGUnXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zaG93SW5mb3JtYXRpb25NZXNzYWdlKCdOYXZpZ2F0aW9uIHN0YXRlIHNhdmVkJyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2hvd1dhcm5pbmdNZXNzYWdlKCdXZWJ2aWV3IHBhbmVsIGlzIG5vdCBvcGVuJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUNvbW1hbmRFcnJvcignc2F2ZVN0YXRlJywgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29tbWFuZFJlZ2lzdHJhdGlvbnMucHVzaChzYXZlU3RhdGVDb21tYW5kKTtcblxuICAgICAgICAgICAgLy8gTG9hZCBOYXZpZ2F0aW9uIFN0YXRlXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVEJYIExpdmUgUHJldmlldzogUmVnaXN0ZXJpbmcgZXh0ZW5zaW9uLmxpdmVTZXJ2ZXIubG9hZFN0YXRlJyk7XG4gICAgICAgICAgICBjb25zdCBsb2FkU3RhdGVDb21tYW5kID0gY29tbWFuZHMucmVnaXN0ZXJDb21tYW5kKCdleHRlbnNpb24ubGl2ZVNlcnZlci5sb2FkU3RhdGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1RCWCBMaXZlIFByZXZpZXc6IGxvYWRTdGF0ZSBjb21tYW5kIGV4ZWN1dGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndlYnZpZXdQcm92aWRlclsncGFuZWwnXSAmJiB0aGlzLndlYnZpZXdQcm92aWRlclsnaXNQYW5lbFZpc2libGUnXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53ZWJ2aWV3UHJvdmlkZXJbJ3BhbmVsJ10ud2Vidmlldy5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZDogJ2xvYWROYXZpZ2F0aW9uU3RhdGUnXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zaG93SW5mb3JtYXRpb25NZXNzYWdlKCdOYXZpZ2F0aW9uIHN0YXRlIGxvYWRlZCcpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnNob3dXYXJuaW5nTWVzc2FnZSgnV2VidmlldyBwYW5lbCBpcyBub3Qgb3BlbicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDb21tYW5kRXJyb3IoJ2xvYWRTdGF0ZScsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbW1hbmRSZWdpc3RyYXRpb25zLnB1c2gobG9hZFN0YXRlQ29tbWFuZCk7XG5cbiAgICAgICAgICAgIC8vIFN0YXJ0IFdlYnZpZXcgKGJhc2ljIGltcGxlbWVudGF0aW9uKVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1RCWCBMaXZlIFByZXZpZXc6IFJlZ2lzdGVyaW5nIGV4dGVuc2lvbi5saXZlU2VydmVyLnN0YXJ0V2VidmlldycpO1xuICAgICAgICAgICAgY29uc3Qgc3RhcnRXZWJ2aWV3Q29tbWFuZCA9IGNvbW1hbmRzLnJlZ2lzdGVyQ29tbWFuZCgnZXh0ZW5zaW9uLmxpdmVTZXJ2ZXIuc3RhcnRXZWJ2aWV3JywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUQlggTGl2ZSBQcmV2aWV3OiBzdGFydFdlYnZpZXcgY29tbWFuZCBleGVjdXRlZCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuYXBwTW9kZWwucnVubmluZ1BvcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zaG93V2FybmluZ01lc3NhZ2UoJ1RCWCBMaXZlIFByZXZpZXcgc2VydmVyIGlzIG5vdCBydW5uaW5nLiBTdGFydCBpdCBmaXJzdC4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFNob3cgdGhlIHdlYnZpZXcgcGFuZWxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53ZWJ2aWV3UHJvdmlkZXIuc2hvd1dlYnZpZXdQYW5lbCgpO1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2hvd0luZm9ybWF0aW9uTWVzc2FnZSgnVEJYIExpdmUgUHJldmlldyB3ZWJ2aWV3IG9wZW5lZCcpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQ29tbWFuZEVycm9yKCdzdGFydFdlYnZpZXcnLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb21tYW5kUmVnaXN0cmF0aW9ucy5wdXNoKHN0YXJ0V2Vidmlld0NvbW1hbmQpO1xuXG4gICAgICAgICAgICAvLyBOYXZpZ2F0ZSBIb21lXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVEJYIExpdmUgUHJldmlldzogUmVnaXN0ZXJpbmcgZXh0ZW5zaW9uLmxpdmVTZXJ2ZXIubmF2aWdhdGVIb21lJyk7XG4gICAgICAgICAgICBjb25zdCBuYXZpZ2F0ZUhvbWVDb21tYW5kID0gY29tbWFuZHMucmVnaXN0ZXJDb21tYW5kKCdleHRlbnNpb24ubGl2ZVNlcnZlci5uYXZpZ2F0ZUhvbWUnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1RCWCBMaXZlIFByZXZpZXc6IG5hdmlnYXRlSG9tZSBjb21tYW5kIGV4ZWN1dGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndlYnZpZXdQcm92aWRlclsncGFuZWwnXSAmJiB0aGlzLndlYnZpZXdQcm92aWRlclsnaXNQYW5lbFZpc2libGUnXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53ZWJ2aWV3UHJvdmlkZXJbJ3BhbmVsJ10ud2Vidmlldy5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZDogJ25hdmlnYXRlSG9tZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnNob3dJbmZvcm1hdGlvbk1lc3NhZ2UoJ05hdmlnYXRlZCB0byBob21lIHBhZ2UnKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zaG93V2FybmluZ01lc3NhZ2UoJ1dlYnZpZXcgcGFuZWwgaXMgbm90IG9wZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQ29tbWFuZEVycm9yKCduYXZpZ2F0ZUhvbWUnLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb21tYW5kUmVnaXN0cmF0aW9ucy5wdXNoKG5hdmlnYXRlSG9tZUNvbW1hbmQpO1xuXG4gICAgICAgICAgICAvLyBab29tIEluXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVEJYIExpdmUgUHJldmlldzogUmVnaXN0ZXJpbmcgZXh0ZW5zaW9uLmxpdmVTZXJ2ZXIuem9vbUluJyk7XG4gICAgICAgICAgICBjb25zdCB6b29tSW5Db21tYW5kID0gY29tbWFuZHMucmVnaXN0ZXJDb21tYW5kKCdleHRlbnNpb24ubGl2ZVNlcnZlci56b29tSW4nLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1RCWCBMaXZlIFByZXZpZXc6IHpvb21JbiBjb21tYW5kIGV4ZWN1dGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndlYnZpZXdQcm92aWRlclsncGFuZWwnXSAmJiB0aGlzLndlYnZpZXdQcm92aWRlclsnaXNQYW5lbFZpc2libGUnXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53ZWJ2aWV3UHJvdmlkZXJbJ3BhbmVsJ10ud2Vidmlldy5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZDogJ3pvb21JbidcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnNob3dJbmZvcm1hdGlvbk1lc3NhZ2UoJ1pvb21lZCBpbicpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnNob3dXYXJuaW5nTWVzc2FnZSgnV2VidmlldyBwYW5lbCBpcyBub3Qgb3BlbicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDb21tYW5kRXJyb3IoJ3pvb21JbicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbW1hbmRSZWdpc3RyYXRpb25zLnB1c2goem9vbUluQ29tbWFuZCk7XG5cbiAgICAgICAgICAgIC8vIFpvb20gT3V0XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVEJYIExpdmUgUHJldmlldzogUmVnaXN0ZXJpbmcgZXh0ZW5zaW9uLmxpdmVTZXJ2ZXIuem9vbU91dCcpO1xuICAgICAgICAgICAgY29uc3Qgem9vbU91dENvbW1hbmQgPSBjb21tYW5kcy5yZWdpc3RlckNvbW1hbmQoJ2V4dGVuc2lvbi5saXZlU2VydmVyLnpvb21PdXQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1RCWCBMaXZlIFByZXZpZXc6IHpvb21PdXQgY29tbWFuZCBleGVjdXRlZCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53ZWJ2aWV3UHJvdmlkZXJbJ3BhbmVsJ10gJiYgdGhpcy53ZWJ2aWV3UHJvdmlkZXJbJ2lzUGFuZWxWaXNpYmxlJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2Vidmlld1Byb3ZpZGVyWydwYW5lbCddLndlYnZpZXcucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICd6b29tT3V0J1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2hvd0luZm9ybWF0aW9uTWVzc2FnZSgnWm9vbWVkIG91dCcpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnNob3dXYXJuaW5nTWVzc2FnZSgnV2VidmlldyBwYW5lbCBpcyBub3Qgb3BlbicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDb21tYW5kRXJyb3IoJ3pvb21PdXQnLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb21tYW5kUmVnaXN0cmF0aW9ucy5wdXNoKHpvb21PdXRDb21tYW5kKTtcblxuICAgICAgICAgICAgLy8gUmVzZXQgWm9vbVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1RCWCBMaXZlIFByZXZpZXc6IFJlZ2lzdGVyaW5nIGV4dGVuc2lvbi5saXZlU2VydmVyLnJlc2V0Wm9vbScpO1xuICAgICAgICAgICAgY29uc3QgcmVzZXRab29tQ29tbWFuZCA9IGNvbW1hbmRzLnJlZ2lzdGVyQ29tbWFuZCgnZXh0ZW5zaW9uLmxpdmVTZXJ2ZXIucmVzZXRab29tJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUQlggTGl2ZSBQcmV2aWV3OiByZXNldFpvb20gY29tbWFuZCBleGVjdXRlZCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53ZWJ2aWV3UHJvdmlkZXJbJ3BhbmVsJ10gJiYgdGhpcy53ZWJ2aWV3UHJvdmlkZXJbJ2lzUGFuZWxWaXNpYmxlJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2Vidmlld1Byb3ZpZGVyWydwYW5lbCddLndlYnZpZXcucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICdyZXNldFpvb20nXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zaG93SW5mb3JtYXRpb25NZXNzYWdlKCdab29tIHJlc2V0IHRvIDEwMCUnKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zaG93V2FybmluZ01lc3NhZ2UoJ1dlYnZpZXcgcGFuZWwgaXMgbm90IG9wZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQ29tbWFuZEVycm9yKCdyZXNldFpvb20nLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb21tYW5kUmVnaXN0cmF0aW9ucy5wdXNoKHJlc2V0Wm9vbUNvbW1hbmQpO1xuXG4gICAgICAgICAgICAvLyBUb2dnbGUgU3BsaXQgVmlld1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1RCWCBMaXZlIFByZXZpZXc6IFJlZ2lzdGVyaW5nIGV4dGVuc2lvbi5saXZlU2VydmVyLnRvZ2dsZVNwbGl0VmlldycpO1xuICAgICAgICAgICAgY29uc3QgdG9nZ2xlU3BsaXRWaWV3Q29tbWFuZCA9IGNvbW1hbmRzLnJlZ2lzdGVyQ29tbWFuZCgnZXh0ZW5zaW9uLmxpdmVTZXJ2ZXIudG9nZ2xlU3BsaXRWaWV3JywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUQlggTGl2ZSBQcmV2aWV3OiB0b2dnbGVTcGxpdFZpZXcgY29tbWFuZCBleGVjdXRlZCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53ZWJ2aWV3UHJvdmlkZXJbJ3BhbmVsJ10gJiYgdGhpcy53ZWJ2aWV3UHJvdmlkZXJbJ2lzUGFuZWxWaXNpYmxlJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2Vidmlld1Byb3ZpZGVyWydwYW5lbCddLndlYnZpZXcucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICd0b2dnbGVTcGxpdFZpZXcnXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zaG93SW5mb3JtYXRpb25NZXNzYWdlKCdUb2dnbGVkIHNwbGl0IHZpZXcnKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zaG93V2FybmluZ01lc3NhZ2UoJ1dlYnZpZXcgcGFuZWwgaXMgbm90IG9wZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQ29tbWFuZEVycm9yKCd0b2dnbGVTcGxpdFZpZXcnLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb21tYW5kUmVnaXN0cmF0aW9ucy5wdXNoKHRvZ2dsZVNwbGl0Vmlld0NvbW1hbmQpO1xuXG4gICAgICAgICAgICAvLyBUb2dnbGUgRnVsbCBTY3JlZW5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUQlggTGl2ZSBQcmV2aWV3OiBSZWdpc3RlcmluZyBleHRlbnNpb24ubGl2ZVNlcnZlci50b2dnbGVGdWxsU2NyZWVuJyk7XG4gICAgICAgICAgICBjb25zdCB0b2dnbGVGdWxsU2NyZWVuQ29tbWFuZCA9IGNvbW1hbmRzLnJlZ2lzdGVyQ29tbWFuZCgnZXh0ZW5zaW9uLmxpdmVTZXJ2ZXIudG9nZ2xlRnVsbFNjcmVlbicsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVEJYIExpdmUgUHJldmlldzogdG9nZ2xlRnVsbFNjcmVlbiBjb21tYW5kIGV4ZWN1dGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndlYnZpZXdQcm92aWRlclsncGFuZWwnXSAmJiB0aGlzLndlYnZpZXdQcm92aWRlclsnaXNQYW5lbFZpc2libGUnXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53ZWJ2aWV3UHJvdmlkZXJbJ3BhbmVsJ10ud2Vidmlldy5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZDogJ3RvZ2dsZUZ1bGxTY3JlZW4nXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zaG93SW5mb3JtYXRpb25NZXNzYWdlKCdUb2dnbGVkIGZ1bGwgc2NyZWVuJyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2hvd1dhcm5pbmdNZXNzYWdlKCdXZWJ2aWV3IHBhbmVsIGlzIG5vdCBvcGVuJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUNvbW1hbmRFcnJvcigndG9nZ2xlRnVsbFNjcmVlbicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbW1hbmRSZWdpc3RyYXRpb25zLnB1c2godG9nZ2xlRnVsbFNjcmVlbkNvbW1hbmQpO1xuXG4gICAgICAgICAgICAvLyBPcGVuIERldmVsb3BlciBUb29sc1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1RCWCBMaXZlIFByZXZpZXc6IFJlZ2lzdGVyaW5nIGV4dGVuc2lvbi5saXZlU2VydmVyLm9wZW5EZXZUb29scycpO1xuICAgICAgICAgICAgY29uc3Qgb3BlbkRldlRvb2xzQ29tbWFuZCA9IGNvbW1hbmRzLnJlZ2lzdGVyQ29tbWFuZCgnZXh0ZW5zaW9uLmxpdmVTZXJ2ZXIub3BlbkRldlRvb2xzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUQlggTGl2ZSBQcmV2aWV3OiBvcGVuRGV2VG9vbHMgY29tbWFuZCBleGVjdXRlZCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy53ZWJ2aWV3UHJvdmlkZXJbJ3BhbmVsJ10gJiYgdGhpcy53ZWJ2aWV3UHJvdmlkZXJbJ2lzUGFuZWxWaXNpYmxlJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2Vidmlld1Byb3ZpZGVyWydwYW5lbCddLndlYnZpZXcucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICdvcGVuRGV2VG9vbHMnXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zaG93SW5mb3JtYXRpb25NZXNzYWdlKCdEZXZlbG9wZXIgdG9vbHMgb3BlbmVkJyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2hvd1dhcm5pbmdNZXNzYWdlKCdXZWJ2aWV3IHBhbmVsIGlzIG5vdCBvcGVuJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUNvbW1hbmRFcnJvcignb3BlbkRldlRvb2xzJywgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29tbWFuZFJlZ2lzdHJhdGlvbnMucHVzaChvcGVuRGV2VG9vbHNDb21tYW5kKTtcblxuICAgICAgICAgICAgLy8gSW5zcGVjdCBFbGVtZW50XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVEJYIExpdmUgUHJldmlldzogUmVnaXN0ZXJpbmcgZXh0ZW5zaW9uLmxpdmVTZXJ2ZXIuaW5zcGVjdEVsZW1lbnQnKTtcbiAgICAgICAgICAgIGNvbnN0IGluc3BlY3RFbGVtZW50Q29tbWFuZCA9IGNvbW1hbmRzLnJlZ2lzdGVyQ29tbWFuZCgnZXh0ZW5zaW9uLmxpdmVTZXJ2ZXIuaW5zcGVjdEVsZW1lbnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1RCWCBMaXZlIFByZXZpZXc6IGluc3BlY3RFbGVtZW50IGNvbW1hbmQgZXhlY3V0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2Vidmlld1Byb3ZpZGVyWydwYW5lbCddICYmIHRoaXMud2Vidmlld1Byb3ZpZGVyWydpc1BhbmVsVmlzaWJsZSddKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndlYnZpZXdQcm92aWRlclsncGFuZWwnXS53ZWJ2aWV3LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kOiAnaW5zcGVjdEVsZW1lbnQnXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zaG93SW5mb3JtYXRpb25NZXNzYWdlKCdFbGVtZW50IGluc3BlY3Rpb24gZW5hYmxlZCcpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnNob3dXYXJuaW5nTWVzc2FnZSgnV2VidmlldyBwYW5lbCBpcyBub3Qgb3BlbicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDb21tYW5kRXJyb3IoJ2luc3BlY3RFbGVtZW50JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29tbWFuZFJlZ2lzdHJhdGlvbnMucHVzaChpbnNwZWN0RWxlbWVudENvbW1hbmQpO1xuXG4gICAgICAgICAgICAvLyBWaWV3IFNvdXJjZVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1RCWCBMaXZlIFByZXZpZXc6IFJlZ2lzdGVyaW5nIGV4dGVuc2lvbi5saXZlU2VydmVyLnZpZXdTb3VyY2UnKTtcbiAgICAgICAgICAgIGNvbnN0IHZpZXdTb3VyY2VDb21tYW5kID0gY29tbWFuZHMucmVnaXN0ZXJDb21tYW5kKCdleHRlbnNpb24ubGl2ZVNlcnZlci52aWV3U291cmNlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUQlggTGl2ZSBQcmV2aWV3OiB2aWV3U291cmNlIGNvbW1hbmQgZXhlY3V0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMud2Vidmlld1Byb3ZpZGVyWydwYW5lbCddICYmIHRoaXMud2Vidmlld1Byb3ZpZGVyWydpc1BhbmVsVmlzaWJsZSddKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLndlYnZpZXdQcm92aWRlclsncGFuZWwnXS53ZWJ2aWV3LnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kOiAndmlld1NvdXJjZSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnNob3dJbmZvcm1hdGlvbk1lc3NhZ2UoJ1NvdXJjZSB2aWV3IG9wZW5lZCcpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnNob3dXYXJuaW5nTWVzc2FnZSgnV2VidmlldyBwYW5lbCBpcyBub3Qgb3BlbicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDb21tYW5kRXJyb3IoJ3ZpZXdTb3VyY2UnLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb21tYW5kUmVnaXN0cmF0aW9ucy5wdXNoKHZpZXdTb3VyY2VDb21tYW5kKTtcblxuICAgICAgICAgICAgLy8gQ2xlYXIgTmF2aWdhdGlvbiBIaXN0b3J5XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVEJYIExpdmUgUHJldmlldzogUmVnaXN0ZXJpbmcgZXh0ZW5zaW9uLmxpdmVTZXJ2ZXIuY2xlYXJIaXN0b3J5Jyk7XG4gICAgICAgICAgICBjb25zdCBjbGVhckhpc3RvcnlDb21tYW5kID0gY29tbWFuZHMucmVnaXN0ZXJDb21tYW5kKCdleHRlbnNpb24ubGl2ZVNlcnZlci5jbGVhckhpc3RvcnknLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1RCWCBMaXZlIFByZXZpZXc6IGNsZWFySGlzdG9yeSBjb21tYW5kIGV4ZWN1dGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLndlYnZpZXdQcm92aWRlclsncGFuZWwnXSAmJiB0aGlzLndlYnZpZXdQcm92aWRlclsnaXNQYW5lbFZpc2libGUnXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53ZWJ2aWV3UHJvdmlkZXJbJ3BhbmVsJ10ud2Vidmlldy5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZDogJ2NsZWFySGlzdG9yeSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnNob3dJbmZvcm1hdGlvbk1lc3NhZ2UoJ05hdmlnYXRpb24gaGlzdG9yeSBjbGVhcmVkJyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2hvd1dhcm5pbmdNZXNzYWdlKCdXZWJ2aWV3IHBhbmVsIGlzIG5vdCBvcGVuJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUNvbW1hbmRFcnJvcignY2xlYXJIaXN0b3J5JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29tbWFuZFJlZ2lzdHJhdGlvbnMucHVzaChjbGVhckhpc3RvcnlDb21tYW5kKTtcblxuICAgICAgICAgICAgLy8gUmVnaXN0ZXIgYWxsIGNvbW1hbmRzIHdpdGggY29udGV4dFxuICAgICAgICAgICAgY29udGV4dC5zdWJzY3JpcHRpb25zLnB1c2goLi4uY29tbWFuZFJlZ2lzdHJhdGlvbnMpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFRCWCBMaXZlIFByZXZpZXc6IFN1Y2Nlc3NmdWxseSByZWdpc3RlcmVkICR7Y29tbWFuZFJlZ2lzdHJhdGlvbnMubGVuZ3RofSBjb21tYW5kc2ApO1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdUQlggTGl2ZSBQcmV2aWV3OiBFcnJvciBkdXJpbmcgY29tbWFuZCByZWdpc3RyYXRpb246JywgZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVDb21tYW5kRXJyb3IoJ2NvbW1hbmRSZWdpc3RyYXRpb24nLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUNvbW1hbmRFcnJvcihjb21tYW5kTmFtZTogc3RyaW5nLCBlcnJvcjogYW55KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgVEJYIExpdmUgUHJldmlldyBjb21tYW5kICcke2NvbW1hbmROYW1lfScgZmFpbGVkOiAke2Vycm9yLm1lc3NhZ2V9YDtcbiAgICAgICAgd2luZG93LnNob3dFcnJvck1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFRCWCBMaXZlIFByZXZpZXcgJHtjb21tYW5kTmFtZX0gZXJyb3I6YCwgZXJyb3IpO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGVDb21tYW5kU3RhdGVzKCk6IHZvaWQge1xuICAgICAgICAvLyBVcGRhdGUgY29tbWFuZCBlbmFibGVtZW50IGJhc2VkIG9uIHNlcnZlciBzdGF0ZVxuICAgICAgICBjb25zdCBpc1J1bm5pbmcgPSB0aGlzLmFwcE1vZGVsLnJ1bm5pbmdQb3J0ICE9PSBudWxsO1xuXG4gICAgICAgIC8vIE5vdGU6IEluIFZTIENvZGUsIGNvbW1hbmQgZW5hYmxlbWVudCBpcyB0eXBpY2FsbHkgaGFuZGxlZCB0aHJvdWdoXG4gICAgICAgIC8vIHBhY2thZ2UuanNvbiBcIndoZW5cIiBjbGF1c2VzIG9yIHByb2dyYW1tYXRpY2FsbHkgdGhyb3VnaCBtZW51cyBBUElcbiAgICAgICAgLy8gRm9yIG5vdywgd2UnbGwgaGFuZGxlIHRoaXMgdGhyb3VnaCB1c2VyIGZlZWRiYWNrIGluIHRoZSBjb21tYW5kcyB0aGVtc2VsdmVzXG4gICAgfVxufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/commandManager.ts\n\n}");

/***/ }),

/***/ "./src/extension.ts":
/*!**************************!*\
  !*** ./src/extension.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("{\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.deactivate = exports.activate = void 0;\nconst appModel_1 = __webpack_require__(/*! ./appModel */ \"./src/appModel.ts\");\nconst webviewPanelProvider_1 = __webpack_require__(/*! ./webviewPanelProvider */ \"./src/webviewPanelProvider.ts\");\nconst statusBarManager_1 = __webpack_require__(/*! ./statusBarManager */ \"./src/statusBarManager.ts\");\nconst commandManager_1 = __webpack_require__(/*! ./commandManager */ \"./src/commandManager.ts\");\nconst announcement_1 = __webpack_require__(/*! ./announcement */ \"./src/announcement/index.ts\");\nfunction activate(context) {\n    const appModel = new appModel_1.AppModel();\n    const webviewProvider = webviewPanelProvider_1.WebviewPanelProvider.getInstance(context, appModel);\n    // Initialize enhanced status bar manager\n    const statusBarManager = statusBarManager_1.StatusBarManager.getInstance(appModel, webviewProvider);\n    // Initialize command manager\n    const commandManager = commandManager_1.CommandManager.getInstance(appModel, webviewProvider, statusBarManager);\n    // Register all new commands\n    commandManager.registerCommands(context);\n    // Create enhanced status bar item for Inline Live Server\n    const statusBarItem = statusBarManager.getStatusBarItem();\n    Promise.resolve().then(() => {\n        context.globalState.setKeysForSync([announcement_1.SETUP_STRING]);\n        (0, announcement_1.checkNewAnnouncement)(context.globalState);\n    });\n    context.subscriptions.push(appModel);\n    context.subscriptions.push(webviewProvider);\n    context.subscriptions.push(statusBarManager);\n    // Show status bar item by default\n    statusBarManager.show();\n}\nexports.activate = activate;\nfunction deactivate() {\n}\nexports.deactivate = deactivate;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZXh0ZW5zaW9uLnRzIiwibWFwcGluZ3MiOiJBQUFhOzs7QUFJYiw4RUFBc0M7QUFDdEMsa0hBQThEO0FBQzlELHNHQUFzRDtBQUN0RCxnR0FBa0Q7QUFDbEQsZ0dBQW9FO0FBRXBFLFNBQWdCLFFBQVEsQ0FBQyxPQUF5QjtJQUM5QyxNQUFNLFFBQVEsR0FBRyxJQUFJLG1CQUFRLEVBQUUsQ0FBQztJQUNoQyxNQUFNLGVBQWUsR0FBRywyQ0FBb0IsQ0FBQyxXQUFXLENBQUMsT0FBTyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBRTVFLHlDQUF5QztJQUN6QyxNQUFNLGdCQUFnQixHQUFHLG1DQUFnQixDQUFDLFdBQVcsQ0FBQyxRQUFRLEVBQUUsZUFBZSxDQUFDLENBQUM7SUFFakYsNkJBQTZCO0lBQzdCLE1BQU0sY0FBYyxHQUFHLCtCQUFjLENBQUMsV0FBVyxDQUFDLFFBQVEsRUFBRSxlQUFlLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztJQUUvRiw0QkFBNEI7SUFDNUIsY0FBYyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBRXpDLHVEQUF1RDtJQUN2RCxNQUFNLGFBQWEsR0FBRyxnQkFBZ0IsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO0lBRTFELE9BQU8sQ0FBQyxPQUFPLEVBQUUsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFO1FBQ3hCLE9BQU8sQ0FBQyxXQUFXLENBQUMsY0FBYyxDQUFDLENBQUMsMkJBQVksQ0FBQyxDQUFDLENBQUM7UUFDbkQsdUNBQW9CLEVBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQzlDLENBQUMsQ0FBQyxDQUFDO0lBWUgsT0FBTyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDckMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDNUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUU3QyxrQ0FBa0M7SUFDbEMsZ0JBQWdCLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDNUIsQ0FBQztBQXJDRCw0QkFxQ0M7QUFHRCxTQUFnQixVQUFVO0FBRTFCLENBQUM7QUFGRCxnQ0FFQyIsInNvdXJjZXMiOlsiLi4vLi9zcmMvZXh0ZW5zaW9uLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgRXh0ZW5zaW9uQ29udGV4dCwgd29ya3NwYWNlLCBjb21tYW5kcywgd2luZG93LCBTdGF0dXNCYXJJdGVtLCBTdGF0dXNCYXJBbGlnbm1lbnQgfSBmcm9tICd2c2NvZGUnO1xuaW1wb3J0ICogYXMgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCB7IEFwcE1vZGVsIH0gZnJvbSAnLi9hcHBNb2RlbCc7XG5pbXBvcnQgeyBXZWJ2aWV3UGFuZWxQcm92aWRlciB9IGZyb20gJy4vd2Vidmlld1BhbmVsUHJvdmlkZXInO1xuaW1wb3J0IHsgU3RhdHVzQmFyTWFuYWdlciB9IGZyb20gJy4vc3RhdHVzQmFyTWFuYWdlcic7XG5pbXBvcnQgeyBDb21tYW5kTWFuYWdlciB9IGZyb20gJy4vY29tbWFuZE1hbmFnZXInO1xuaW1wb3J0IHsgY2hlY2tOZXdBbm5vdW5jZW1lbnQsIFNFVFVQX1NUUklORyB9IGZyb20gJy4vYW5ub3VuY2VtZW50JztcblxuZXhwb3J0IGZ1bmN0aW9uIGFjdGl2YXRlKGNvbnRleHQ6IEV4dGVuc2lvbkNvbnRleHQpIHtcbiAgICBjb25zdCBhcHBNb2RlbCA9IG5ldyBBcHBNb2RlbCgpO1xuICAgIGNvbnN0IHdlYnZpZXdQcm92aWRlciA9IFdlYnZpZXdQYW5lbFByb3ZpZGVyLmdldEluc3RhbmNlKGNvbnRleHQsIGFwcE1vZGVsKTtcblxuICAgIC8vIEluaXRpYWxpemUgZW5oYW5jZWQgc3RhdHVzIGJhciBtYW5hZ2VyXG4gICAgY29uc3Qgc3RhdHVzQmFyTWFuYWdlciA9IFN0YXR1c0Jhck1hbmFnZXIuZ2V0SW5zdGFuY2UoYXBwTW9kZWwsIHdlYnZpZXdQcm92aWRlcik7XG5cbiAgICAvLyBJbml0aWFsaXplIGNvbW1hbmQgbWFuYWdlclxuICAgIGNvbnN0IGNvbW1hbmRNYW5hZ2VyID0gQ29tbWFuZE1hbmFnZXIuZ2V0SW5zdGFuY2UoYXBwTW9kZWwsIHdlYnZpZXdQcm92aWRlciwgc3RhdHVzQmFyTWFuYWdlcik7XG5cbiAgICAvLyBSZWdpc3RlciBhbGwgbmV3IGNvbW1hbmRzXG4gICAgY29tbWFuZE1hbmFnZXIucmVnaXN0ZXJDb21tYW5kcyhjb250ZXh0KTtcblxuICAgIC8vIENyZWF0ZSBlbmhhbmNlZCBzdGF0dXMgYmFyIGl0ZW0gZm9yIFRCWCBMaXZlIFByZXZpZXdcbiAgICBjb25zdCBzdGF0dXNCYXJJdGVtID0gc3RhdHVzQmFyTWFuYWdlci5nZXRTdGF0dXNCYXJJdGVtKCk7XG5cbiAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgY29udGV4dC5nbG9iYWxTdGF0ZS5zZXRLZXlzRm9yU3luYyhbU0VUVVBfU1RSSU5HXSk7XG4gICAgICAgIGNoZWNrTmV3QW5ub3VuY2VtZW50KGNvbnRleHQuZ2xvYmFsU3RhdGUpO1xuICAgIH0pO1xuXG5cbiAgICBcblxuICAgIFxuXG4gICAgXG5cbiAgICBcblxuXG4gICAgY29udGV4dC5zdWJzY3JpcHRpb25zLnB1c2goYXBwTW9kZWwpO1xuICAgIGNvbnRleHQuc3Vic2NyaXB0aW9ucy5wdXNoKHdlYnZpZXdQcm92aWRlcik7XG4gICAgY29udGV4dC5zdWJzY3JpcHRpb25zLnB1c2goc3RhdHVzQmFyTWFuYWdlcik7XG5cbiAgICAvLyBTaG93IHN0YXR1cyBiYXIgaXRlbSBieSBkZWZhdWx0XG4gICAgc3RhdHVzQmFyTWFuYWdlci5zaG93KCk7XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGRlYWN0aXZhdGUoKSB7XG5cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/extension.ts\n\n}");

/***/ }),

/***/ "./src/statusBarManager.ts":
/*!*********************************!*\
  !*** ./src/statusBarManager.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("{\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.StatusBarManager = exports.ServerState = void 0;\nconst vscode_1 = __webpack_require__(/*! vscode */ \"vscode\");\nvar ServerState;\n(function (ServerState) {\n    ServerState[\"STOPPED\"] = \"stopped\";\n    ServerState[\"STARTING\"] = \"starting\";\n    ServerState[\"RUNNING\"] = \"running\";\n    ServerState[\"ERROR\"] = \"error\";\n})(ServerState = exports.ServerState || (exports.ServerState = {}));\nclass StatusBarManager {\n    constructor(appModel, webviewProvider) {\n        this.appModel = appModel;\n        this.webviewProvider = webviewProvider;\n        this.initializeStatusBar();\n        this.initializeState();\n    }\n    static getInstance(appModel, webviewProvider) {\n        if (!StatusBarManager.instance) {\n            StatusBarManager.instance = new StatusBarManager(appModel, webviewProvider);\n        }\n        return StatusBarManager.instance;\n    }\n    initializeStatusBar() {\n        this.statusBarItem = vscode_1.window.createStatusBarItem(vscode_1.StatusBarAlignment.Left, 100);\n        this.statusBarItem.command = 'inlineLivePreview.start';\n        // Add context menu to status bar item\n        this.statusBarItem.tooltip = this.getTooltipContent();\n        this.statusBarItem.show();\n    }\n    initializeState() {\n        this.currentState = {\n            serverState: ServerState.STOPPED,\n            isConnected: false\n        };\n        this.updateStatusBar();\n    }\n    updateServerState(state, port) {\n        this.currentState.serverState = state;\n        if (port !== undefined) {\n            this.currentState.port = port;\n        }\n        // Update connection status based on server state\n        this.currentState.isConnected = state === ServerState.RUNNING;\n        this.updateStatusBar();\n    }\n    updateConnectionStatus(isConnected) {\n        this.currentState.isConnected = isConnected;\n        this.updateStatusBar();\n    }\n    updateWorkspaceInfo(workspaceName) {\n        this.currentState.workspaceName = workspaceName;\n        this.updateStatusBar();\n    }\n    updateStatusBar() {\n        const { serverState, port, isConnected, workspaceName } = this.currentState;\n        // Update text based on server state\n        switch (serverState) {\n            case ServerState.STOPPED:\n                this.statusBarItem.text = '$(circle-slash) Inline Live Server';\n                this.statusBarItem.command = 'inlineLivePreview.start';\n                break;\n            case ServerState.STARTING:\n                this.statusBarItem.text = '$(pulse) Inline Live Server';\n                this.statusBarItem.command = 'inlineLivePreview.stop';\n                break;\n            case ServerState.RUNNING:\n                const portText = port ? `:${port}` : '';\n                const connectionIcon = isConnected ? '$(check)' : '$(warning)';\n                this.statusBarItem.text = `${connectionIcon} Inline Live Server${portText}`;\n                this.statusBarItem.command = 'inlineLivePreview.stop';\n                break;\n            case ServerState.ERROR:\n                this.statusBarItem.text = '$(error) Inline Live Server';\n                this.statusBarItem.command = 'inlineLivePreview.start';\n                break;\n        }\n        // Update tooltip with current state and actions\n        this.statusBarItem.tooltip = this.getTooltipContent();\n        // Update color based on state\n        this.updateStatusBarColor();\n    }\n    getTooltipContent() {\n        const { serverState, port, isConnected, workspaceName } = this.currentState;\n        let tooltip = 'Inline Live Server\\n\\n';\n        // Add current status\n        switch (serverState) {\n            case ServerState.STOPPED:\n                tooltip += 'Status: Stopped\\n';\n                tooltip += 'Click to start server';\n                break;\n            case ServerState.STARTING:\n                tooltip += 'Status: Starting...\\n';\n                tooltip += 'Click to stop server';\n                break;\n            case ServerState.RUNNING:\n                tooltip += `Status: Running on port ${port || 'unknown'}\\n`;\n                tooltip += `Connection: ${isConnected ? 'Connected' : 'Disconnected'}\\n`;\n                if (workspaceName) {\n                    tooltip += `Workspace: ${workspaceName}\\n`;\n                }\n                tooltip += 'Click to stop server';\n                break;\n            case ServerState.ERROR:\n                tooltip += 'Status: Error\\n';\n                tooltip += 'Click to restart server';\n                break;\n        }\n        // Add quick actions\n        tooltip += '\\nQuick Actions:\\n';\n        tooltip += ' Ctrl+Click: Open in external browser\\n';\n        tooltip += ' Right-click: Show context menu\\n';\n        tooltip += ' Alt+Click: Open settings';\n        return tooltip;\n    }\n    updateStatusBarColor() {\n        // Reset color first\n        this.statusBarItem.color = undefined;\n        switch (this.currentState.serverState) {\n            case ServerState.RUNNING:\n                if (!this.currentState.isConnected) {\n                    this.statusBarItem.color = '#FFA500'; // Orange for disconnected\n                }\n                break;\n            case ServerState.ERROR:\n                this.statusBarItem.color = '#FF4444'; // Red for error\n                break;\n            case ServerState.STARTING:\n                this.statusBarItem.color = '#4444FF'; // Blue for starting\n                break;\n        }\n    }\n    show() {\n        this.statusBarItem.show();\n    }\n    hide() {\n        this.statusBarItem.hide();\n    }\n    dispose() {\n        if (this.statusBarItem) {\n            this.statusBarItem.dispose();\n        }\n    }\n    getStatusBarItem() {\n        return this.statusBarItem;\n    }\n}\nexports.StatusBarManager = StatusBarManager;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFDbkU7Z0JBQ0QsTUFBTTtZQUNWLEtBQUssV0FBVyxDQUFDLEtBQUs7Z0JBQ2xCLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQyxDQUFDLGdCQUFnQjtnQkFDdEQsTUFBTTtZQUNWLEtBQUssV0FBVyxDQUFDLFFBQVE7Z0JBQ3JCLElBQUksQ0FBQyxhQUFhLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQyxDQUFDLG9CQUFvQjtnQkFDMUQsTUFBTTtTQUNiO0lBQ0wsQ0FBQztJQUVNLElBQUk7UUFDUCxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQzlCLENBQUM7SUFFTSxJQUFJO1FBQ1AsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUM5QixDQUFDO0lBRU0sT0FBTztRQUNWLElBQUksSUFBSSxDQUFDLGFBQWEsRUFBRTtZQUNwQixJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sRUFBRSxDQUFDO1NBQ2hDO0lBQ0wsQ0FBQztJQUVNLGdCQUFnQjtRQUNuQixPQUFPLElBQUksQ0FBQyxhQUFhLENBQUM7SUFDOUIsQ0FBQztDQUNKO0FBeEtELDRDQXdLQyIsInNvdXJjZXMiOlsiLi4vLi9zcmMvc3RhdHVzQmFyTWFuYWdlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTdGF0dXNCYXJJdGVtLCB3aW5kb3csIFN0YXR1c0JhckFsaWdubWVudCwgY29tbWFuZHMsIHdvcmtzcGFjZSwgVXJpIH0gZnJvbSAndnNjb2RlJztcbmltcG9ydCB7IEFwcE1vZGVsIH0gZnJvbSAnLi9hcHBNb2RlbCc7XG5pbXBvcnQgeyBXZWJ2aWV3UGFuZWxQcm92aWRlciB9IGZyb20gJy4vd2Vidmlld1BhbmVsUHJvdmlkZXInO1xuXG5leHBvcnQgZW51bSBTZXJ2ZXJTdGF0ZSB7XG4gICAgU1RPUFBFRCA9ICdzdG9wcGVkJyxcbiAgICBTVEFSVElORyA9ICdzdGFydGluZycsXG4gICAgUlVOTklORyA9ICdydW5uaW5nJyxcbiAgICBFUlJPUiA9ICdlcnJvcidcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdGF0dXNCYXJTdGF0ZSB7XG4gICAgc2VydmVyU3RhdGU6IFNlcnZlclN0YXRlO1xuICAgIHBvcnQ/OiBudW1iZXI7XG4gICAgaXNDb25uZWN0ZWQ6IGJvb2xlYW47XG4gICAgd29ya3NwYWNlTmFtZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGNsYXNzIFN0YXR1c0Jhck1hbmFnZXIge1xuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBTdGF0dXNCYXJNYW5hZ2VyO1xuICAgIHByaXZhdGUgc3RhdHVzQmFySXRlbTogU3RhdHVzQmFySXRlbTtcbiAgICBwcml2YXRlIGN1cnJlbnRTdGF0ZTogU3RhdHVzQmFyU3RhdGU7XG4gICAgcHJpdmF0ZSBhcHBNb2RlbDogQXBwTW9kZWw7XG4gICAgcHJpdmF0ZSB3ZWJ2aWV3UHJvdmlkZXI6IFdlYnZpZXdQYW5lbFByb3ZpZGVyO1xuXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihhcHBNb2RlbDogQXBwTW9kZWwsIHdlYnZpZXdQcm92aWRlcjogV2Vidmlld1BhbmVsUHJvdmlkZXIpIHtcbiAgICAgICAgdGhpcy5hcHBNb2RlbCA9IGFwcE1vZGVsO1xuICAgICAgICB0aGlzLndlYnZpZXdQcm92aWRlciA9IHdlYnZpZXdQcm92aWRlcjtcbiAgICAgICAgdGhpcy5pbml0aWFsaXplU3RhdHVzQmFyKCk7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZVN0YXRlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZShhcHBNb2RlbDogQXBwTW9kZWwsIHdlYnZpZXdQcm92aWRlcjogV2Vidmlld1BhbmVsUHJvdmlkZXIpOiBTdGF0dXNCYXJNYW5hZ2VyIHtcbiAgICAgICAgaWYgKCFTdGF0dXNCYXJNYW5hZ2VyLmluc3RhbmNlKSB7XG4gICAgICAgICAgICBTdGF0dXNCYXJNYW5hZ2VyLmluc3RhbmNlID0gbmV3IFN0YXR1c0Jhck1hbmFnZXIoYXBwTW9kZWwsIHdlYnZpZXdQcm92aWRlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFN0YXR1c0Jhck1hbmFnZXIuaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0aWFsaXplU3RhdHVzQmFyKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnN0YXR1c0Jhckl0ZW0gPSB3aW5kb3cuY3JlYXRlU3RhdHVzQmFySXRlbShTdGF0dXNCYXJBbGlnbm1lbnQuTGVmdCwgMTAwKTtcbiAgICAgICAgdGhpcy5zdGF0dXNCYXJJdGVtLmNvbW1hbmQgPSAnaW5saW5lTGl2ZVByZXZpZXcuc3RhcnQnO1xuXG4gICAgICAgIC8vIEFkZCBjb250ZXh0IG1lbnUgdG8gc3RhdHVzIGJhciBpdGVtXG4gICAgICAgIHRoaXMuc3RhdHVzQmFySXRlbS50b29sdGlwID0gdGhpcy5nZXRUb29sdGlwQ29udGVudCgpO1xuXG4gICAgICAgIHRoaXMuc3RhdHVzQmFySXRlbS5zaG93KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0aWFsaXplU3RhdGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0ge1xuICAgICAgICAgICAgc2VydmVyU3RhdGU6IFNlcnZlclN0YXRlLlNUT1BQRUQsXG4gICAgICAgICAgICBpc0Nvbm5lY3RlZDogZmFsc2VcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnVwZGF0ZVN0YXR1c0JhcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGVTZXJ2ZXJTdGF0ZShzdGF0ZTogU2VydmVyU3RhdGUsIHBvcnQ/OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUuc2VydmVyU3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgaWYgKHBvcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUucG9ydCA9IHBvcnQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgY29ubmVjdGlvbiBzdGF0dXMgYmFzZWQgb24gc2VydmVyIHN0YXRlXG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlLmlzQ29ubmVjdGVkID0gc3RhdGUgPT09IFNlcnZlclN0YXRlLlJVTk5JTkc7XG5cbiAgICAgICAgdGhpcy51cGRhdGVTdGF0dXNCYXIoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlQ29ubmVjdGlvblN0YXR1cyhpc0Nvbm5lY3RlZDogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZS5pc0Nvbm5lY3RlZCA9IGlzQ29ubmVjdGVkO1xuICAgICAgICB0aGlzLnVwZGF0ZVN0YXR1c0JhcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGVXb3Jrc3BhY2VJbmZvKHdvcmtzcGFjZU5hbWU/OiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUud29ya3NwYWNlTmFtZSA9IHdvcmtzcGFjZU5hbWU7XG4gICAgICAgIHRoaXMudXBkYXRlU3RhdHVzQmFyKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVTdGF0dXNCYXIoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHsgc2VydmVyU3RhdGUsIHBvcnQsIGlzQ29ubmVjdGVkLCB3b3Jrc3BhY2VOYW1lIH0gPSB0aGlzLmN1cnJlbnRTdGF0ZTtcblxuICAgICAgICAvLyBVcGRhdGUgdGV4dCBiYXNlZCBvbiBzZXJ2ZXIgc3RhdGVcbiAgICAgICAgc3dpdGNoIChzZXJ2ZXJTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSBTZXJ2ZXJTdGF0ZS5TVE9QUEVEOlxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzQmFySXRlbS50ZXh0ID0gJyQoY2lyY2xlLXNsYXNoKSBUQlggTGl2ZSBQcmV2aWV3JztcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1c0Jhckl0ZW0uY29tbWFuZCA9ICdpbmxpbmVMaXZlUHJldmlldy5zdGFydCc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNlcnZlclN0YXRlLlNUQVJUSU5HOlxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzQmFySXRlbS50ZXh0ID0gJyQocHVsc2UpIFRCWCBMaXZlIFByZXZpZXcnO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzQmFySXRlbS5jb21tYW5kID0gJ2lubGluZUxpdmVQcmV2aWV3LnN0b3AnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTZXJ2ZXJTdGF0ZS5SVU5OSU5HOlxuICAgICAgICAgICAgICAgIGNvbnN0IHBvcnRUZXh0ID0gcG9ydCA/IGA6JHtwb3J0fWAgOiAnJztcbiAgICAgICAgICAgICAgICBjb25zdCBjb25uZWN0aW9uSWNvbiA9IGlzQ29ubmVjdGVkID8gJyQoY2hlY2spJyA6ICckKHdhcm5pbmcpJztcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1c0Jhckl0ZW0udGV4dCA9IGAke2Nvbm5lY3Rpb25JY29ufSBUQlggTGl2ZSBQcmV2aWV3JHtwb3J0VGV4dH1gO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdHVzQmFySXRlbS5jb21tYW5kID0gJ2lubGluZUxpdmVQcmV2aWV3LnN0b3AnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTZXJ2ZXJTdGF0ZS5FUlJPUjpcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1c0Jhckl0ZW0udGV4dCA9ICckKGVycm9yKSBUQlggTGl2ZSBQcmV2aWV3JztcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1c0Jhckl0ZW0uY29tbWFuZCA9ICdpbmxpbmVMaXZlUHJldmlldy5zdGFydCc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgdG9vbHRpcCB3aXRoIGN1cnJlbnQgc3RhdGUgYW5kIGFjdGlvbnNcbiAgICAgICAgdGhpcy5zdGF0dXNCYXJJdGVtLnRvb2x0aXAgPSB0aGlzLmdldFRvb2x0aXBDb250ZW50KCk7XG5cbiAgICAgICAgLy8gVXBkYXRlIGNvbG9yIGJhc2VkIG9uIHN0YXRlXG4gICAgICAgIHRoaXMudXBkYXRlU3RhdHVzQmFyQ29sb3IoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFRvb2x0aXBDb250ZW50KCk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHsgc2VydmVyU3RhdGUsIHBvcnQsIGlzQ29ubmVjdGVkLCB3b3Jrc3BhY2VOYW1lIH0gPSB0aGlzLmN1cnJlbnRTdGF0ZTtcblxuICAgICAgICBsZXQgdG9vbHRpcCA9ICdUQlggTGl2ZSBQcmV2aWV3XFxuXFxuJztcblxuICAgICAgICAvLyBBZGQgY3VycmVudCBzdGF0dXNcbiAgICAgICAgc3dpdGNoIChzZXJ2ZXJTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSBTZXJ2ZXJTdGF0ZS5TVE9QUEVEOlxuICAgICAgICAgICAgICAgIHRvb2x0aXAgKz0gJ1N0YXR1czogU3RvcHBlZFxcbic7XG4gICAgICAgICAgICAgICAgdG9vbHRpcCArPSAnQ2xpY2sgdG8gc3RhcnQgc2VydmVyJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2VydmVyU3RhdGUuU1RBUlRJTkc6XG4gICAgICAgICAgICAgICAgdG9vbHRpcCArPSAnU3RhdHVzOiBTdGFydGluZy4uLlxcbic7XG4gICAgICAgICAgICAgICAgdG9vbHRpcCArPSAnQ2xpY2sgdG8gc3RvcCBzZXJ2ZXInO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTZXJ2ZXJTdGF0ZS5SVU5OSU5HOlxuICAgICAgICAgICAgICAgIHRvb2x0aXAgKz0gYFN0YXR1czogUnVubmluZyBvbiBwb3J0ICR7cG9ydCB8fCAndW5rbm93bid9XFxuYDtcbiAgICAgICAgICAgICAgICB0b29sdGlwICs9IGBDb25uZWN0aW9uOiAke2lzQ29ubmVjdGVkID8gJ0Nvbm5lY3RlZCcgOiAnRGlzY29ubmVjdGVkJ31cXG5gO1xuICAgICAgICAgICAgICAgIGlmICh3b3Jrc3BhY2VOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXAgKz0gYFdvcmtzcGFjZTogJHt3b3Jrc3BhY2VOYW1lfVxcbmA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRvb2x0aXAgKz0gJ0NsaWNrIHRvIHN0b3Agc2VydmVyJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2VydmVyU3RhdGUuRVJST1I6XG4gICAgICAgICAgICAgICAgdG9vbHRpcCArPSAnU3RhdHVzOiBFcnJvclxcbic7XG4gICAgICAgICAgICAgICAgdG9vbHRpcCArPSAnQ2xpY2sgdG8gcmVzdGFydCBzZXJ2ZXInO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIHF1aWNrIGFjdGlvbnNcbiAgICAgICAgdG9vbHRpcCArPSAnXFxuUXVpY2sgQWN0aW9uczpcXG4nO1xuICAgICAgICB0b29sdGlwICs9ICfigKIgQ3RybCtDbGljazogT3BlbiBpbiBleHRlcm5hbCBicm93c2VyXFxuJztcbiAgICAgICAgdG9vbHRpcCArPSAn4oCiIFJpZ2h0LWNsaWNrOiBTaG93IGNvbnRleHQgbWVudVxcbic7XG4gICAgICAgIHRvb2x0aXAgKz0gJ+KAoiBBbHQrQ2xpY2s6IE9wZW4gc2V0dGluZ3MnO1xuXG4gICAgICAgIHJldHVybiB0b29sdGlwO1xuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlU3RhdHVzQmFyQ29sb3IoKTogdm9pZCB7XG4gICAgICAgIC8vIFJlc2V0IGNvbG9yIGZpcnN0XG4gICAgICAgIHRoaXMuc3RhdHVzQmFySXRlbS5jb2xvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICBzd2l0Y2ggKHRoaXMuY3VycmVudFN0YXRlLnNlcnZlclN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIFNlcnZlclN0YXRlLlJVTk5JTkc6XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnRTdGF0ZS5pc0Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXR1c0Jhckl0ZW0uY29sb3IgPSAnI0ZGQTUwMCc7IC8vIE9yYW5nZSBmb3IgZGlzY29ubmVjdGVkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTZXJ2ZXJTdGF0ZS5FUlJPUjpcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1c0Jhckl0ZW0uY29sb3IgPSAnI0ZGNDQ0NCc7IC8vIFJlZCBmb3IgZXJyb3JcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2VydmVyU3RhdGUuU1RBUlRJTkc6XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0dXNCYXJJdGVtLmNvbG9yID0gJyM0NDQ0RkYnOyAvLyBCbHVlIGZvciBzdGFydGluZ1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHNob3coKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc3RhdHVzQmFySXRlbS5zaG93KCk7XG4gICAgfVxuXG4gICAgcHVibGljIGhpZGUoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc3RhdHVzQmFySXRlbS5oaWRlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGRpc3Bvc2UoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnN0YXR1c0Jhckl0ZW0pIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzQmFySXRlbS5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U3RhdHVzQmFySXRlbSgpOiBTdGF0dXNCYXJJdGVtIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdHVzQmFySXRlbTtcbiAgICB9XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/statusBarManager.ts\n\n}");

/***/ }),

/***/ "./src/webviewPanelProvider.ts":
/*!*************************************!*\
  !*** ./src/webviewPanelProvider.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("{\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.WebviewPanelProvider = void 0;\nconst vscode_1 = __webpack_require__(/*! vscode */ \"vscode\");\nconst Config_1 = __webpack_require__(/*! ./Config */ \"./src/Config.ts\");\nclass WebviewPanelProvider {\n    constructor(context, appModel) {\n        this.disposables = [];\n        this.isPanelVisible = false;\n        this.appModel = appModel;\n        this.setupMessageHandlers();\n    }\n    static getInstance(context, appModel) {\n        if (!WebviewPanelProvider.instance) {\n            WebviewPanelProvider.instance = new WebviewPanelProvider(context, appModel);\n        }\n        return WebviewPanelProvider.instance;\n    }\n    showWebviewPanel() {\n        const column = vscode_1.window.activeTextEditor\n            ? vscode_1.window.activeTextEditor.viewColumn\n            : vscode_1.ViewColumn.One;\n        if (this.panel) {\n            this.panel.reveal(column);\n            this.isPanelVisible = true;\n        }\n        else {\n            this.createWebviewPanel(column);\n        }\n    }\n    createWebviewPanel(column) {\n        var _a, _b;\n        this.panel = vscode_1.window.createWebviewPanel('tbxLivePreview', 'Inline Live Server', column, {\n            enableScripts: true,\n            localResourceRoots: [\n                vscode_1.Uri.joinPath(((_b = (_a = vscode_1.workspace.workspaceFolders) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.uri) || vscode_1.Uri.file(''), 'media'),\n                vscode_1.Uri.joinPath(vscode_1.Uri.file(__dirname), '..', 'media')\n            ],\n            retainContextWhenHidden: true\n        });\n        this.panel.webview.html = this.getWebviewContent();\n        this.panel.webview.onDidReceiveMessage(message => this.handleMessage(message), null, this.disposables);\n        this.panel.onDidDispose(() => this.dispose(), null, this.disposables);\n        this.panel.onDidChangeViewState((e) => {\n            this.isPanelVisible = e.webviewPanel.visible;\n        }, null, this.disposables);\n        this.isPanelVisible = true;\n    }\n    getWebviewContent() {\n        var _a;\n        const nonce = this.getNonce();\n        const cspSource = (_a = this.panel) === null || _a === void 0 ? void 0 : _a.webview.cspSource;\n        return `<!DOCTYPE html>\n        <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\">\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n            <meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'none';\n                style-src 'unsafe-inline' ${cspSource};\n                script-src 'nonce-${nonce}';\n                frame-src ${cspSource} http: https:;\n                img-src ${cspSource} https: data:;\n                connect-src ${cspSource} ws: wss:;\">\n            <title>Inline Live Server</title>\n            <style>\n                body {\n                    margin: 0;\n                    padding: 0;\n                    height: 100vh;\n                    font-family: var(--vscode-font-family);\n                    font-size: var(--vscode-font-size);\n                    background-color: var(--vscode-editor-background);\n                    color: var(--vscode-editor-foreground);\n                }\n\n                .container {\n                    display: flex;\n                    flex-direction: column;\n                    height: 100vh;\n                }\n\n                .header {\n                    display: flex;\n                    align-items: center;\n                    padding: 8px 16px;\n                    background-color: var(--vscode-editorWidget-background);\n                    border-bottom: 1px solid var(--vscode-panel-border);\n                    min-height: 40px;\n                }\n\n                .address-bar {\n                    flex: 1;\n                    margin: 0 12px;\n                    padding: 4px 8px;\n                    background-color: var(--vscode-input-background);\n                    color: var(--vscode-input-foreground);\n                    border: 1px solid var(--vscode-input-border);\n                    border-radius: 3px;\n                    font-family: var(--vscode-editor-font-family);\n                    font-size: 13px;\n                }\n\n                .status {\n                    font-size: 12px;\n                    color: var(--vscode-descriptionForeground);\n                    margin-left: 12px;\n                }\n\n                .loading {\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    height: 100%;\n                    font-size: 14px;\n                    color: var(--vscode-descriptionForeground);\n                }\n\n                .error {\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    height: 100%;\n                    font-size: 14px;\n                    color: var(--vscode-errorForeground);\n                    background-color: var(--vscode-editor-background);\n                }\n\n                .iframe-container {\n                    flex: 1;\n                    position: relative;\n                }\n\n                iframe {\n                    width: 100%;\n                    height: 100%;\n                    border: none;\n                    background-color: var(--vscode-editor-background);\n                }\n\n                .hidden {\n                    display: none !important;\n                }\n\n                .refresh-btn {\n                    background-color: var(--vscode-button-background);\n                    color: var(--vscode-button-foreground);\n                    border: none;\n                    padding: 4px 8px;\n                    border-radius: 3px;\n                    cursor: pointer;\n                    font-size: 12px;\n                    margin-right: 8px;\n                }\n\n                .refresh-btn:hover {\n                    background-color: var(--vscode-button-hoverBackground);\n                }\n            </style>\n        </head>\n        <body>\n            <div class=\"container\">\n                <div class=\"header\">\n                    <button class=\"refresh-btn\" id=\"refreshBtn\"> Refresh</button>\n                    <input type=\"text\" class=\"address-bar\" id=\"addressBar\" readonly>\n                    <div class=\"status\" id=\"status\">Ready</div>\n                </div>\n                <div class=\"iframe-container\">\n                    <div class=\"loading\" id=\"loading\">\n                        <div>Loading preview...</div>\n                    </div>\n                    <div class=\"error hidden\" id=\"error\">\n                        <div>Failed to load preview</div>\n                    </div>\n                    <iframe id=\"previewFrame\" class=\"hidden\" sandbox=\"allow-scripts allow-same-origin allow-forms allow-modals allow-popups\"></iframe>\n                </div>\n            </div>\n\n            <script nonce=\"${nonce}\">\n                const vscode = acquireVsCodeApi();\n                const refreshBtn = document.getElementById('refreshBtn');\n                const addressBar = document.getElementById('addressBar');\n                const status = document.getElementById('status');\n                const loading = document.getElementById('loading');\n                const error = document.getElementById('error');\n                const previewFrame = document.getElementById('previewFrame');\n\n                let currentUrl = '';\n\n                refreshBtn.addEventListener('click', () => {\n                    if (currentUrl) {\n                        loadPreview(currentUrl);\n                    }\n                });\n\n                function updateStatus(message, isError = false) {\n                    status.textContent = message;\n                    status.style.color = isError ? 'var(--vscode-errorForeground)' : 'var(--vscode-descriptionForeground)';\n                }\n\n                function showLoading() {\n                    loading.classList.remove('hidden');\n                    error.classList.add('hidden');\n                    previewFrame.classList.add('hidden');\n                }\n\n                function showError(message) {\n                    loading.classList.add('hidden');\n                    error.classList.remove('hidden');\n                    previewFrame.classList.add('hidden');\n                    error.querySelector('div').textContent = message;\n                    updateStatus('Error', true);\n                }\n\n                function showPreview() {\n                    loading.classList.add('hidden');\n                    error.classList.add('hidden');\n                    previewFrame.classList.remove('hidden');\n                    updateStatus('Live');\n                }\n\n                function loadPreview(url) {\n                    if (!url) {\n                        showError('No URL provided');\n                        return;\n                    }\n\n                    currentUrl = url;\n                    addressBar.value = url;\n                    showLoading();\n                    updateStatus('Loading...');\n\n                    try {\n                        previewFrame.src = url;\n                        previewFrame.onload = () => {\n                            showPreview();\n                        };\n                        previewFrame.onerror = () => {\n                            showError('Failed to load preview');\n                        };\n                    } catch (err) {\n                        showError('Invalid URL format');\n                    }\n                }\n\n                // Handle messages from extension\n                window.addEventListener('message', event => {\n                    const message = event.data;\n                    switch (message.command) {\n                        case 'loadPreview':\n                            loadPreview(message.url);\n                            break;\n                        case 'updateStatus':\n                            updateStatus(message.text, message.isError);\n                            break;\n                        case 'showError':\n                            showError(message.text);\n                            break;\n                    }\n                });\n\n                // Notify extension that webview is ready\n                vscode.postMessage({\n                    command: 'webviewReady'\n                });\n            </script>\n        </body>\n        </html>`;\n    }\n    updatePreview(serverInfo) {\n        if (!this.panel || !this.isPanelVisible) {\n            return;\n        }\n        const url = `${serverInfo.protocol}://${serverInfo.host}:${serverInfo.port}/${serverInfo.path}`;\n        this.panel.webview.postMessage({\n            command: 'loadPreview',\n            url: url\n        });\n    }\n    updateStatus(message, isError = false) {\n        if (!this.panel || !this.isPanelVisible) {\n            return;\n        }\n        this.panel.webview.postMessage({\n            command: 'updateStatus',\n            text: message,\n            isError: isError\n        });\n    }\n    showError(message) {\n        if (!this.panel || !this.isPanelVisible) {\n            return;\n        }\n        this.panel.webview.postMessage({\n            command: 'showError',\n            text: message\n        });\n    }\n    handleMessage(message) {\n        switch (message.command) {\n            case 'webviewReady':\n                // Webview is ready, we can start sending updates\n                break;\n            default:\n                console.log('Unknown message:', message);\n        }\n    }\n    setupMessageHandlers() {\n        // Listen to server events from AppModel\n        this.appModel.onDidGoLive((event) => {\n            if (this.panel && this.isPanelVisible) {\n                const host = (Config_1.Config.getLocalIp ? __webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module 'ips'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()))().local : Config_1.Config.getHost) || '127.0.0.1';\n                const protocol = Config_1.Config.getHttps.enable ? 'https' : 'http';\n                this.updatePreview({\n                    port: event.runningPort,\n                    host: host,\n                    protocol: protocol,\n                    path: event.pathUri || ''\n                });\n            }\n        });\n        this.appModel.onDidGoOffline(() => {\n            if (this.panel && this.isPanelVisible) {\n                this.updateStatus('Server stopped', true);\n            }\n        });\n    }\n    getNonce() {\n        let text = '';\n        const possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n        for (let i = 0; i < 32; i++) {\n            text += possible.charAt(Math.floor(Math.random() * possible.length));\n        }\n        return text;\n    }\n    dispose() {\n        if (this.panel) {\n            this.panel.dispose();\n            this.panel = undefined;\n        }\n        while (this.disposables.length) {\n            const disposable = this.disposables.pop();\n            if (disposable) {\n                disposable.dispose();\n            }\n        }\n        this.isPanelVisible = false;\n        WebviewPanelProvider.instance = null;\n    }\n}\nexports.WebviewPanelProvider = WebviewPanelProvider;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFsWUQsb0RBa1lDIiwic291cmNlcyI6WyIuLi8uL3NyYy93ZWJ2aWV3UGFuZWxQcm92aWRlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7XG4gICAgV2Vidmlld1BhbmVsLFxuICAgIFZpZXdDb2x1bW4sXG4gICAgd2luZG93LFxuICAgIFVyaSxcbiAgICBXZWJ2aWV3LFxuICAgIEV4dGVuc2lvbkNvbnRleHQsXG4gICAgRGlzcG9zYWJsZSxcbiAgICB3b3Jrc3BhY2Vcbn0gZnJvbSAndnNjb2RlJztcbmltcG9ydCB7IEFwcE1vZGVsIH0gZnJvbSAnLi9hcHBNb2RlbCc7XG5pbXBvcnQgeyBDb25maWcgfSBmcm9tICcuL0NvbmZpZyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgV2Vidmlld01lc3NhZ2Uge1xuICAgIGNvbW1hbmQ6IHN0cmluZztcbiAgICBkYXRhPzogYW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNlcnZlckluZm8ge1xuICAgIHBvcnQ6IG51bWJlcjtcbiAgICBob3N0OiBzdHJpbmc7XG4gICAgcHJvdG9jb2w6IHN0cmluZztcbiAgICBwYXRoOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBXZWJ2aWV3UGFuZWxQcm92aWRlciBpbXBsZW1lbnRzIERpc3Bvc2FibGUge1xuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBXZWJ2aWV3UGFuZWxQcm92aWRlcjtcbiAgICBwcml2YXRlIHBhbmVsOiBXZWJ2aWV3UGFuZWwgfCB1bmRlZmluZWQ7XG4gICAgcHJpdmF0ZSBkaXNwb3NhYmxlczogRGlzcG9zYWJsZVtdID0gW107XG4gICAgcHJpdmF0ZSBhcHBNb2RlbDogQXBwTW9kZWw7XG4gICAgcHJpdmF0ZSBpc1BhbmVsVmlzaWJsZSA9IGZhbHNlO1xuXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3Rvcihjb250ZXh0OiBFeHRlbnNpb25Db250ZXh0LCBhcHBNb2RlbDogQXBwTW9kZWwpIHtcbiAgICAgICAgdGhpcy5hcHBNb2RlbCA9IGFwcE1vZGVsO1xuICAgICAgICB0aGlzLnNldHVwTWVzc2FnZUhhbmRsZXJzKCk7XG4gICAgfVxuXG4gICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZShjb250ZXh0OiBFeHRlbnNpb25Db250ZXh0LCBhcHBNb2RlbDogQXBwTW9kZWwpOiBXZWJ2aWV3UGFuZWxQcm92aWRlciB7XG4gICAgICAgIGlmICghV2Vidmlld1BhbmVsUHJvdmlkZXIuaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIFdlYnZpZXdQYW5lbFByb3ZpZGVyLmluc3RhbmNlID0gbmV3IFdlYnZpZXdQYW5lbFByb3ZpZGVyKGNvbnRleHQsIGFwcE1vZGVsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gV2Vidmlld1BhbmVsUHJvdmlkZXIuaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgcHVibGljIHNob3dXZWJ2aWV3UGFuZWwoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGNvbHVtbiA9IHdpbmRvdy5hY3RpdmVUZXh0RWRpdG9yXG4gICAgICAgICAgICA/IHdpbmRvdy5hY3RpdmVUZXh0RWRpdG9yLnZpZXdDb2x1bW5cbiAgICAgICAgICAgIDogVmlld0NvbHVtbi5PbmU7XG5cbiAgICAgICAgaWYgKHRoaXMucGFuZWwpIHtcbiAgICAgICAgICAgIHRoaXMucGFuZWwucmV2ZWFsKGNvbHVtbik7XG4gICAgICAgICAgICB0aGlzLmlzUGFuZWxWaXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlV2Vidmlld1BhbmVsKGNvbHVtbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVdlYnZpZXdQYW5lbChjb2x1bW46IFZpZXdDb2x1bW4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5wYW5lbCA9IHdpbmRvdy5jcmVhdGVXZWJ2aWV3UGFuZWwoXG4gICAgICAgICAgICAndGJ4TGl2ZVByZXZpZXcnLFxuICAgICAgICAgICAgJ1RCWCBMaXZlIFByZXZpZXcnLFxuICAgICAgICAgICAgY29sdW1uLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGVuYWJsZVNjcmlwdHM6IHRydWUsXG4gICAgICAgICAgICAgICAgbG9jYWxSZXNvdXJjZVJvb3RzOiBbXG4gICAgICAgICAgICAgICAgICAgIFVyaS5qb2luUGF0aCh3b3Jrc3BhY2Uud29ya3NwYWNlRm9sZGVycz8uWzBdPy51cmkgfHwgVXJpLmZpbGUoJycpLCAnbWVkaWEnKSxcbiAgICAgICAgICAgICAgICAgICAgVXJpLmpvaW5QYXRoKFVyaS5maWxlKF9fZGlybmFtZSksICcuLicsICdtZWRpYScpXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICByZXRhaW5Db250ZXh0V2hlbkhpZGRlbjogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMucGFuZWwud2Vidmlldy5odG1sID0gdGhpcy5nZXRXZWJ2aWV3Q29udGVudCgpO1xuICAgICAgICB0aGlzLnBhbmVsLndlYnZpZXcub25EaWRSZWNlaXZlTWVzc2FnZShcbiAgICAgICAgICAgIG1lc3NhZ2UgPT4gdGhpcy5oYW5kbGVNZXNzYWdlKG1lc3NhZ2UpLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zYWJsZXNcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLnBhbmVsLm9uRGlkRGlzcG9zZShcbiAgICAgICAgICAgICgpID0+IHRoaXMuZGlzcG9zZSgpLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zYWJsZXNcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLnBhbmVsLm9uRGlkQ2hhbmdlVmlld1N0YXRlKFxuICAgICAgICAgICAgKGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzUGFuZWxWaXNpYmxlID0gZS53ZWJ2aWV3UGFuZWwudmlzaWJsZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgdGhpcy5kaXNwb3NhYmxlc1xuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuaXNQYW5lbFZpc2libGUgPSB0cnVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0V2Vidmlld0NvbnRlbnQoKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3Qgbm9uY2UgPSB0aGlzLmdldE5vbmNlKCk7XG4gICAgICAgIGNvbnN0IGNzcFNvdXJjZSA9IHRoaXMucGFuZWw/LndlYnZpZXcuY3NwU291cmNlO1xuXG4gICAgICAgIHJldHVybiBgPCFET0NUWVBFIGh0bWw+XG4gICAgICAgIDxodG1sIGxhbmc9XCJlblwiPlxuICAgICAgICA8aGVhZD5cbiAgICAgICAgICAgIDxtZXRhIGNoYXJzZXQ9XCJVVEYtOFwiPlxuICAgICAgICAgICAgPG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjBcIj5cbiAgICAgICAgICAgIDxtZXRhIGh0dHAtZXF1aXY9XCJDb250ZW50LVNlY3VyaXR5LVBvbGljeVwiIGNvbnRlbnQ9XCJkZWZhdWx0LXNyYyAnbm9uZSc7XG4gICAgICAgICAgICAgICAgc3R5bGUtc3JjICd1bnNhZmUtaW5saW5lJyAke2NzcFNvdXJjZX07XG4gICAgICAgICAgICAgICAgc2NyaXB0LXNyYyAnbm9uY2UtJHtub25jZX0nO1xuICAgICAgICAgICAgICAgIGZyYW1lLXNyYyAke2NzcFNvdXJjZX0gaHR0cDogaHR0cHM6O1xuICAgICAgICAgICAgICAgIGltZy1zcmMgJHtjc3BTb3VyY2V9IGh0dHBzOiBkYXRhOjtcbiAgICAgICAgICAgICAgICBjb25uZWN0LXNyYyAke2NzcFNvdXJjZX0gd3M6IHdzczo7XCI+XG4gICAgICAgICAgICA8dGl0bGU+VEJYIExpdmUgUHJldmlldzwvdGl0bGU+XG4gICAgICAgICAgICA8c3R5bGU+XG4gICAgICAgICAgICAgICAgYm9keSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDB2aDtcbiAgICAgICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6IHZhcigtLXZzY29kZS1mb250LWZhbWlseSk7XG4gICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogdmFyKC0tdnNjb2RlLWZvbnQtc2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXZzY29kZS1lZGl0b3ItYmFja2dyb3VuZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS12c2NvZGUtZWRpdG9yLWZvcmVncm91bmQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC5jb250YWluZXIge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMHZoO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC5oZWFkZXIge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiA4cHggMTZweDtcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tdnNjb2RlLWVkaXRvcldpZGdldC1iYWNrZ3JvdW5kKTtcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLXZzY29kZS1wYW5lbC1ib3JkZXIpO1xuICAgICAgICAgICAgICAgICAgICBtaW4taGVpZ2h0OiA0MHB4O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC5hZGRyZXNzLWJhciB7XG4gICAgICAgICAgICAgICAgICAgIGZsZXg6IDE7XG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMCAxMnB4O1xuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiA0cHggOHB4O1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS12c2NvZGUtaW5wdXQtYmFja2dyb3VuZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS12c2NvZGUtaW5wdXQtZm9yZWdyb3VuZCk7XG4gICAgICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLXZzY29kZS1pbnB1dC1ib3JkZXIpO1xuICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7XG4gICAgICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiB2YXIoLS12c2NvZGUtZWRpdG9yLWZvbnQtZmFtaWx5KTtcbiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxM3B4O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC5zdGF0dXMge1xuICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS12c2NvZGUtZGVzY3JpcHRpb25Gb3JlZ3JvdW5kKTtcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDEycHg7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLmxvYWRpbmcge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS12c2NvZGUtZGVzY3JpcHRpb25Gb3JlZ3JvdW5kKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAuZXJyb3Ige1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS12c2NvZGUtZXJyb3JGb3JlZ3JvdW5kKTtcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tdnNjb2RlLWVkaXRvci1iYWNrZ3JvdW5kKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAuaWZyYW1lLWNvbnRhaW5lciB7XG4gICAgICAgICAgICAgICAgICAgIGZsZXg6IDE7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZnJhbWUge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLXZzY29kZS1lZGl0b3ItYmFja2dyb3VuZCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLmhpZGRlbiB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAucmVmcmVzaC1idG4ge1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS12c2NvZGUtYnV0dG9uLWJhY2tncm91bmQpO1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogdmFyKC0tdnNjb2RlLWJ1dHRvbi1mb3JlZ3JvdW5kKTtcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiA0cHggOHB4O1xuICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAzcHg7XG4gICAgICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDhweDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAucmVmcmVzaC1idG46aG92ZXIge1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS12c2NvZGUtYnV0dG9uLWhvdmVyQmFja2dyb3VuZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgPC9oZWFkPlxuICAgICAgICA8Ym9keT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJyZWZyZXNoLWJ0blwiIGlkPVwicmVmcmVzaEJ0blwiPuKGuyBSZWZyZXNoPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiYWRkcmVzcy1iYXJcIiBpZD1cImFkZHJlc3NCYXJcIiByZWFkb25seT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN0YXR1c1wiIGlkPVwic3RhdHVzXCI+UmVhZHk8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaWZyYW1lLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibG9hZGluZ1wiIGlkPVwibG9hZGluZ1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5Mb2FkaW5nIHByZXZpZXcuLi48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJlcnJvciBoaWRkZW5cIiBpZD1cImVycm9yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PkZhaWxlZCB0byBsb2FkIHByZXZpZXc8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxpZnJhbWUgaWQ9XCJwcmV2aWV3RnJhbWVcIiBjbGFzcz1cImhpZGRlblwiIHNhbmRib3g9XCJhbGxvdy1zY3JpcHRzIGFsbG93LXNhbWUtb3JpZ2luIGFsbG93LWZvcm1zIGFsbG93LW1vZGFscyBhbGxvdy1wb3B1cHNcIj48L2lmcmFtZT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8c2NyaXB0IG5vbmNlPVwiJHtub25jZX1cIj5cbiAgICAgICAgICAgICAgICBjb25zdCB2c2NvZGUgPSBhY3F1aXJlVnNDb2RlQXBpKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVmcmVzaEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWZyZXNoQnRuJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRkcmVzc0JhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRyZXNzQmFyJyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXR1cycpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvYWRpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZGluZycpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Vycm9yJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldmlld0ZyYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXZpZXdGcmFtZScpO1xuXG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRVcmwgPSAnJztcblxuICAgICAgICAgICAgICAgIHJlZnJlc2hCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkUHJldmlldyhjdXJyZW50VXJsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlU3RhdHVzKG1lc3NhZ2UsIGlzRXJyb3IgPSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuc3R5bGUuY29sb3IgPSBpc0Vycm9yID8gJ3ZhcigtLXZzY29kZS1lcnJvckZvcmVncm91bmQpJyA6ICd2YXIoLS12c2NvZGUtZGVzY3JpcHRpb25Gb3JlZ3JvdW5kKSc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gc2hvd0xvYWRpbmcoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRpbmcuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgICAgICBwcmV2aWV3RnJhbWUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gc2hvd0Vycm9yKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZGluZy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgIHByZXZpZXdGcmFtZS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IucXVlcnlTZWxlY3RvcignZGl2JykudGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVTdGF0dXMoJ0Vycm9yJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gc2hvd1ByZXZpZXcoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRpbmcuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgICAgICBwcmV2aWV3RnJhbWUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVN0YXR1cygnTGl2ZScpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGxvYWRQcmV2aWV3KHVybCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXVybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Vycm9yKCdObyBVUkwgcHJvdmlkZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRVcmwgPSB1cmw7XG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3NCYXIudmFsdWUgPSB1cmw7XG4gICAgICAgICAgICAgICAgICAgIHNob3dMb2FkaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVN0YXR1cygnTG9hZGluZy4uLicpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2aWV3RnJhbWUuc3JjID0gdXJsO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlld0ZyYW1lLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93UHJldmlldygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpZXdGcmFtZS5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dFcnJvcignRmFpbGVkIHRvIGxvYWQgcHJldmlldycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93RXJyb3IoJ0ludmFsaWQgVVJMIGZvcm1hdCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIG1lc3NhZ2VzIGZyb20gZXh0ZW5zaW9uXG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBldmVudCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBldmVudC5kYXRhO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UuY29tbWFuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnbG9hZFByZXZpZXcnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRQcmV2aWV3KG1lc3NhZ2UudXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3VwZGF0ZVN0YXR1cyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlU3RhdHVzKG1lc3NhZ2UudGV4dCwgbWVzc2FnZS5pc0Vycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Nob3dFcnJvcic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Vycm9yKG1lc3NhZ2UudGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIE5vdGlmeSBleHRlbnNpb24gdGhhdCB3ZWJ2aWV3IGlzIHJlYWR5XG4gICAgICAgICAgICAgICAgdnNjb2RlLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgY29tbWFuZDogJ3dlYnZpZXdSZWFkeSdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIDwvc2NyaXB0PlxuICAgICAgICA8L2JvZHk+XG4gICAgICAgIDwvaHRtbD5gO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGVQcmV2aWV3KHNlcnZlckluZm86IFNlcnZlckluZm8pOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLnBhbmVsIHx8ICF0aGlzLmlzUGFuZWxWaXNpYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB1cmwgPSBgJHtzZXJ2ZXJJbmZvLnByb3RvY29sfTovLyR7c2VydmVySW5mby5ob3N0fToke3NlcnZlckluZm8ucG9ydH0vJHtzZXJ2ZXJJbmZvLnBhdGh9YDtcblxuICAgICAgICB0aGlzLnBhbmVsLndlYnZpZXcucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgY29tbWFuZDogJ2xvYWRQcmV2aWV3JyxcbiAgICAgICAgICAgIHVybDogdXJsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGVTdGF0dXMobWVzc2FnZTogc3RyaW5nLCBpc0Vycm9yOiBib29sZWFuID0gZmFsc2UpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLnBhbmVsIHx8ICF0aGlzLmlzUGFuZWxWaXNpYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBhbmVsLndlYnZpZXcucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgY29tbWFuZDogJ3VwZGF0ZVN0YXR1cycsXG4gICAgICAgICAgICB0ZXh0OiBtZXNzYWdlLFxuICAgICAgICAgICAgaXNFcnJvcjogaXNFcnJvclxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2hvd0Vycm9yKG1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMucGFuZWwgfHwgIXRoaXMuaXNQYW5lbFZpc2libGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGFuZWwud2Vidmlldy5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBjb21tYW5kOiAnc2hvd0Vycm9yJyxcbiAgICAgICAgICAgIHRleHQ6IG1lc3NhZ2VcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVNZXNzYWdlKG1lc3NhZ2U6IFdlYnZpZXdNZXNzYWdlKTogdm9pZCB7XG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS5jb21tYW5kKSB7XG4gICAgICAgICAgICBjYXNlICd3ZWJ2aWV3UmVhZHknOlxuICAgICAgICAgICAgICAgIC8vIFdlYnZpZXcgaXMgcmVhZHksIHdlIGNhbiBzdGFydCBzZW5kaW5nIHVwZGF0ZXNcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1Vua25vd24gbWVzc2FnZTonLCBtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc2V0dXBNZXNzYWdlSGFuZGxlcnMoKTogdm9pZCB7XG4gICAgICAgIC8vIExpc3RlbiB0byBzZXJ2ZXIgZXZlbnRzIGZyb20gQXBwTW9kZWxcbiAgICAgICAgdGhpcy5hcHBNb2RlbC5vbkRpZEdvTGl2ZSgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhbmVsICYmIHRoaXMuaXNQYW5lbFZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBob3N0ID0gKENvbmZpZy5nZXRMb2NhbElwID8gcmVxdWlyZSgnaXBzJykoKS5sb2NhbCA6IENvbmZpZy5nZXRIb3N0KSB8fCAnMTI3LjAuMC4xJztcbiAgICAgICAgICAgICAgICBjb25zdCBwcm90b2NvbCA9IENvbmZpZy5nZXRIdHRwcy5lbmFibGUgPyAnaHR0cHMnIDogJ2h0dHAnO1xuXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQcmV2aWV3KHtcbiAgICAgICAgICAgICAgICAgICAgcG9ydDogZXZlbnQucnVubmluZ1BvcnQsXG4gICAgICAgICAgICAgICAgICAgIGhvc3Q6IGhvc3QsXG4gICAgICAgICAgICAgICAgICAgIHByb3RvY29sOiBwcm90b2NvbCxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogZXZlbnQucGF0aFVyaSB8fCAnJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFwcE1vZGVsLm9uRGlkR29PZmZsaW5lKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhbmVsICYmIHRoaXMuaXNQYW5lbFZpc2libGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXR1cygnU2VydmVyIHN0b3BwZWQnLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXROb25jZSgpOiBzdHJpbmcge1xuICAgICAgICBsZXQgdGV4dCA9ICcnO1xuICAgICAgICBjb25zdCBwb3NzaWJsZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSc7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzI7IGkrKykge1xuICAgICAgICAgICAgdGV4dCArPSBwb3NzaWJsZS5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGUubGVuZ3RoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuXG4gICAgcHVibGljIGRpc3Bvc2UoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnBhbmVsKSB7XG4gICAgICAgICAgICB0aGlzLnBhbmVsLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMucGFuZWwgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAodGhpcy5kaXNwb3NhYmxlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc3Bvc2FibGUgPSB0aGlzLmRpc3Bvc2FibGVzLnBvcCgpO1xuICAgICAgICAgICAgaWYgKGRpc3Bvc2FibGUpIHtcbiAgICAgICAgICAgICAgICBkaXNwb3NhYmxlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNQYW5lbFZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgV2Vidmlld1BhbmVsUHJvdmlkZXIuaW5zdGFuY2UgPSBudWxsIGFzIGFueTtcbiAgICB9XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/webviewPanelProvider.ts\n\n}");

/***/ }),

/***/ "./src/workspaceResolver.ts":
/*!**********************************!*\
  !*** ./src/workspaceResolver.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("{\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.workspaceResolver = exports.setOrChangeWorkspace = void 0;\nconst vscode_1 = __webpack_require__(/*! vscode */ \"vscode\");\nconst Config_1 = __webpack_require__(/*! ./Config */ \"./src/Config.ts\");\nfunction setOrChangeWorkspace() {\n    const { workspaceFolders } = vscode_1.workspace;\n    const workspaceNames = workspaceFolders.map(e => e.name);\n    return vscode_1.window.showQuickPick(workspaceNames, {\n        placeHolder: 'choose workspace for Live Server',\n        ignoreFocusOut: true\n    }).then(workspaceName => {\n        if (workspaceName) {\n            return Config_1.Config.setMultiRootWorkspaceName(workspaceName).then(() => workspaceName);\n        }\n    });\n}\nexports.setOrChangeWorkspace = setOrChangeWorkspace;\nfunction workspaceResolver(fileUri) {\n    return new Promise(resolve => {\n        const { workspaceFolders } = vscode_1.workspace;\n        const workspaceNames = workspaceFolders.map(e => e.name);\n        // If only one workspace. No need to check anything.\n        if (workspaceNames.length === 1) {\n            return resolve(workspaceFolders[0].uri.fsPath);\n        }\n        // if fileUri is set. Means, user tried to open server by right clicking to a HTML file.\n        if (fileUri) {\n            const selectedWorkspace = workspaceFolders.find(ws => fileUri.startsWith(ws.uri.fsPath));\n            if (selectedWorkspace) {\n                return Config_1.Config.setMultiRootWorkspaceName(selectedWorkspace.name)\n                    .then(() => resolve(selectedWorkspace.uri.fsPath));\n            }\n        }\n        // If workspace already set by User\n        if (Config_1.Config.getMultiRootWorkspaceName) {\n            // A small test that the WorkspaceName (set by user) is valid\n            const targetWorkspace = workspaceFolders.find(e => e.name === Config_1.Config.getMultiRootWorkspaceName);\n            if (targetWorkspace)\n                return resolve(targetWorkspace.uri.fsPath);\n            // reset whatever user is set.\n            Config_1.Config.setMultiRootWorkspaceName(null);\n        }\n        // Show a quick picker\n        setOrChangeWorkspace()\n            .then(workspaceName => {\n            const workspaceUri = workspaceFolders.find(e => e.name === workspaceName).uri.fsPath;\n            return resolve(workspaceUri);\n        });\n    });\n}\nexports.workspaceResolver = workspaceResolver;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZXNvbHZlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB3b3Jrc3BhY2UsIHdpbmRvdyB9IGZyb20gJ3ZzY29kZSc7XG5pbXBvcnQgeyBDb25maWcgfSBmcm9tICcuL0NvbmZpZyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRPckNoYW5nZVdvcmtzcGFjZSgpIHtcbiAgICBjb25zdCB7IHdvcmtzcGFjZUZvbGRlcnMgfSA9IHdvcmtzcGFjZTtcbiAgICBjb25zdCB3b3Jrc3BhY2VOYW1lcyA9IHdvcmtzcGFjZUZvbGRlcnMubWFwKGUgPT4gZS5uYW1lKTtcblxuICAgIHJldHVybiB3aW5kb3cuc2hvd1F1aWNrUGljayh3b3Jrc3BhY2VOYW1lcywge1xuICAgICAgICBwbGFjZUhvbGRlcjogJ2Nob29zZSB3b3Jrc3BhY2UgZm9yIExpdmUgU2VydmVyJyxcbiAgICAgICAgaWdub3JlRm9jdXNPdXQ6IHRydWVcbiAgICB9KS50aGVuKHdvcmtzcGFjZU5hbWUgPT4ge1xuICAgICAgICBpZiAod29ya3NwYWNlTmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIENvbmZpZy5zZXRNdWx0aVJvb3RXb3Jrc3BhY2VOYW1lKHdvcmtzcGFjZU5hbWUpLnRoZW4oKCkgPT4gd29ya3NwYWNlTmFtZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gd29ya3NwYWNlUmVzb2x2ZXIoZmlsZVVyaT86IHN0cmluZykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZTxzdHJpbmc+KHJlc29sdmUgPT4ge1xuICAgICAgICBjb25zdCB7IHdvcmtzcGFjZUZvbGRlcnMgfSA9IHdvcmtzcGFjZTtcbiAgICAgICAgY29uc3Qgd29ya3NwYWNlTmFtZXMgPSB3b3Jrc3BhY2VGb2xkZXJzLm1hcChlID0+IGUubmFtZSk7XG5cbiAgICAgICAgLy8gSWYgb25seSBvbmUgd29ya3NwYWNlLiBObyBuZWVkIHRvIGNoZWNrIGFueXRoaW5nLlxuICAgICAgICBpZiAod29ya3NwYWNlTmFtZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh3b3Jrc3BhY2VGb2xkZXJzWzBdLnVyaS5mc1BhdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgZmlsZVVyaSBpcyBzZXQuIE1lYW5zLCB1c2VyIHRyaWVkIHRvIG9wZW4gc2VydmVyIGJ5IHJpZ2h0IGNsaWNraW5nIHRvIGEgSFRNTCBmaWxlLlxuICAgICAgICBpZiAoZmlsZVVyaSkge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRXb3Jrc3BhY2UgPSB3b3Jrc3BhY2VGb2xkZXJzLmZpbmQod3MgPT4gZmlsZVVyaS5zdGFydHNXaXRoKHdzLnVyaS5mc1BhdGgpKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFdvcmtzcGFjZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBDb25maWcuc2V0TXVsdGlSb290V29ya3NwYWNlTmFtZShzZWxlY3RlZFdvcmtzcGFjZS5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiByZXNvbHZlKHNlbGVjdGVkV29ya3NwYWNlLnVyaS5mc1BhdGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHdvcmtzcGFjZSBhbHJlYWR5IHNldCBieSBVc2VyXG4gICAgICAgIGlmIChDb25maWcuZ2V0TXVsdGlSb290V29ya3NwYWNlTmFtZSkge1xuICAgICAgICAgICAgLy8gQSBzbWFsbCB0ZXN0IHRoYXQgdGhlIFdvcmtzcGFjZU5hbWUgKHNldCBieSB1c2VyKSBpcyB2YWxpZFxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0V29ya3NwYWNlID0gd29ya3NwYWNlRm9sZGVycy5maW5kKGUgPT4gZS5uYW1lID09PSBDb25maWcuZ2V0TXVsdGlSb290V29ya3NwYWNlTmFtZSk7XG4gICAgICAgICAgICBpZiAodGFyZ2V0V29ya3NwYWNlKVxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHRhcmdldFdvcmtzcGFjZS51cmkuZnNQYXRoKTtcblxuICAgICAgICAgICAgLy8gcmVzZXQgd2hhdGV2ZXIgdXNlciBpcyBzZXQuXG4gICAgICAgICAgICBDb25maWcuc2V0TXVsdGlSb290V29ya3NwYWNlTmFtZShudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNob3cgYSBxdWljayBwaWNrZXJcbiAgICAgICAgc2V0T3JDaGFuZ2VXb3Jrc3BhY2UoKVxuICAgICAgICAgICAgLnRoZW4od29ya3NwYWNlTmFtZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgd29ya3NwYWNlVXJpID0gd29ya3NwYWNlRm9sZGVycy5maW5kKGUgPT4gZS5uYW1lID09PSB3b3Jrc3BhY2VOYW1lKS51cmkuZnNQYXRoO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHdvcmtzcGFjZVVyaSk7XG4gICAgICAgICAgICB9KTtcbiAgICB9KTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/workspaceResolver.ts\n\n}");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "live-server":
/*!******************************!*\
  !*** external "live-server" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("live-server");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "vscode":
/*!*************************!*\
  !*** external "vscode" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("vscode");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/extension.ts");
/******/ 	module.exports = __webpack_exports__;
/******/ 	
/******/ })()
;